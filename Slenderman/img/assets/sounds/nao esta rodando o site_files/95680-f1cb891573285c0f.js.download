(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95680],{50704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(31950);class n{constructor(e){var t;this.params=e,this.params.baseUrl=null!==(t=e.baseUrl)&&void 0!==t?t:i.BASE_URL}endpoint(e){var t;let r=new URL(this.params.baseUrl+e);return Object.entries(null!==(t=this.params.queryParams)&&void 0!==t?t:{}).forEach(([e,t])=>r.searchParams.append(e,t)),r}ufcEndpoint(){return this.endpoint(i.UFC_ENDPOINT)}banditParametersEndpoint(){return this.endpoint(i.BANDIT_ENDPOINT)}}t.default=n},70412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.loggerPrefix=void 0;let i=r(80807);t.loggerPrefix="[Eppo SDK]",t.logger=(0,i.default)({level:"warn",browser:{disabled:!0}})},20027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BanditEvaluator=void 0;let i=r(31950),n=r(57793);class s{constructor(){this.assignmentShards=i.BANDIT_ASSIGNMENT_SHARDS,this.sharder=new n.MD5Sharder}evaluateBandit(e,t,r,i,n){let s=this.scoreActions(r,i,n),o=this.weighActions(s,n.gamma,n.actionProbabilityFloor),a=this.selectAction(e,t,o),l=Object.values(s).reduce((e,t)=>t>e?t:e,-1/0)-s[a];return{flagKey:e,subjectKey:t,subjectAttributes:r,actionKey:a,actionAttributes:i[a],actionScore:s[a],actionWeight:o[a],gamma:n.gamma,optimalityGap:l}}scoreActions(e,t,r){let i={};return Object.entries(t).forEach(([t,n])=>{let s=r.defaultActionScore,o=r.coefficients[t];o&&(s=o.intercept+this.scoreNumericAttributes(o.subjectNumericCoefficients,e.numericAttributes)+this.scoreCategoricalAttributes(o.subjectCategoricalCoefficients,e.categoricalAttributes)+this.scoreNumericAttributes(o.actionNumericCoefficients,n.numericAttributes)+this.scoreCategoricalAttributes(o.actionCategoricalCoefficients,n.categoricalAttributes)),i[t]=s}),i}scoreNumericAttributes(e,t){return e.reduce((e,r)=>{let i=t[r.attributeKey];return"number"==typeof i&&isFinite(i)?e+=i*r.coefficient:e+=r.missingValueCoefficient,e},0)}scoreCategoricalAttributes(e,t){return e.reduce((e,r)=>{var i;let n=null===(i=t[r.attributeKey])||void 0===i?void 0:i.toString(),s=n&&r.valueCoefficients[n];return e+("number"==typeof s?s:r.missingValueCoefficient)},0)}weighActions(e,t,r){let i={},n=Object.entries(e);if(!n.length)return i;let s=null,o=null;if(n.forEach(([e,t])=>{(null===s||t>s)&&(s=t,o=e)}),null===s||null===o)throw Error("Unable to find top score");let a=s,l=o,u=n.length,c=r/u,h=0;return n.forEach(([e,r])=>{if(e===l)return;let n=Math.max(1/(u+t*(a-r)),c);h+=n,i[e]=n}),i[l]=Math.max(1-h,0),i}selectAction(e,t,r){let i=Object.entries(r).sort((r,i)=>{let n=this.sharder.getShard(`${e}-${t}-${r[0]}`,this.assignmentShards)-this.sharder.getShard(`${e}-${t}-${i[0]}`,this.assignmentShards);return 0===n&&(n=r[0]<i[0]?-1:1),n}),n=this.sharder.getShard(`${e}-${t}`,this.assignmentShards)/this.assignmentShards,s=0,o=null;for(let e of i)if((s+=e[1])>n){o=e[0];break}if(null===o)throw Error(`No bandit action selected for flag "${e}" and subject "${t}"`);return o}}t.BanditEvaluator=s},31145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUInMemoryAssignmentCache=t.NonExpiringInMemoryAssignmentCache=t.AbstractAssignmentCache=t.assignmentCacheValueToString=t.assignmentCacheKeyToString=void 0;let i=r(80288),n=r(85184);function s({subjectKey:e,flagKey:t}){return(0,i.getMD5Hash)([e,t].join(";"))}function o({allocationKey:e,variationKey:t}){return(0,i.getMD5Hash)([e,t].join(";"))}t.assignmentCacheKeyToString=s,t.assignmentCacheValueToString=o;class a{constructor(e){this.delegate=e}has(e){return this.get(e)===o(e)}get(e){return this.delegate.get(s(e))}set(e){this.delegate.set(s(e),o(e))}entries(){return this.delegate.entries()}}t.AbstractAssignmentCache=a;class l extends a{constructor(e=new Map){super(e)}}t.NonExpiringInMemoryAssignmentCache=l;class u extends a{constructor(e){super(new n.LRUCache(e))}}t.LRUInMemoryAssignmentCache=u},85184:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;class r{constructor(e){this.capacity=e,this.cache=new Map,this.size=this.cache.size}[(Symbol.toStringTag,Symbol.iterator)](){return this.cache[Symbol.iterator]()}forEach(e,t){this.cache.forEach(e,t)}entries(){return this.cache.entries()}clear(){this.cache.clear()}delete(e){return this.cache.delete(e)}keys(){return this.cache.keys()}values(){return this.cache.values()}has(e){return this.cache.has(e)}get(e){if(!this.has(e))return;let t=this.cache.get(e);return void 0!==t&&(this.delete(e),this.cache.set(e,t)),t}set(e,t){if(0===this.capacity)return this;if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.capacity){let e=this.cache.keys().next().value;this.delete(e)}return this.cache.set(e,t),this}}t.LRUCache=r},86381:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkValueTypeMatch=t.checkTypeMatch=void 0;let i=r(50704),n=r(70412),s=r(20027),o=r(31145),a=r(87764),l=r(31950),u=r(27524),c=r(18935),h=r(56498),g=r(24817),d=r(49231),f=r(68397),p=r(80288),E=r(69811),m=r(90454),v=r(75443);class S{constructor(e,t,r,i,n=!1){this.flagConfigurationStore=e,this.banditVariationConfigurationStore=t,this.banditModelConfigurationStore=r,this.configurationRequestParameters=i,this.isObfuscated=n,this.queuedAssignmentEvents=[],this.queuedBanditEvents=[],this.isGracefulFailureMode=!0,this.evaluator=new h.Evaluator,this.banditEvaluator=new s.BanditEvaluator}setConfigurationRequestParameters(e){this.configurationRequestParameters=e}setFlagConfigurationStore(e){this.flagConfigurationStore=e}setBanditVariationConfigurationStore(e){this.banditVariationConfigurationStore=e}setBanditModelConfigurationStore(e){this.banditModelConfigurationStore=e}setIsObfuscated(e){this.isObfuscated=e}async fetchFlagConfigurations(){var e,t;if(!this.configurationRequestParameters)throw Error("Eppo SDK unable to fetch flag configurations without configuration request parameters");if(this.requestPoller&&this.requestPoller.stop(),!await this.flagConfigurationStore.isExpired()){n.logger.info("[Eppo SDK] Configuration store is not expired. Skipping fetching flag configurations");return}let{apiKey:r,sdkName:s,sdkVersion:o,baseUrl:u,requestTimeoutMs:c=l.DEFAULT_REQUEST_TIMEOUT_MS,numInitialRequestRetries:h=l.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES,numPollRequestRetries:g=l.DEFAULT_POLL_CONFIG_REQUEST_RETRIES,pollAfterSuccessfulInitialization:f=!1,pollAfterFailedInitialization:p=!1,throwOnFailedInitialization:m=!1,skipInitialPoll:v=!1}=this.configurationRequestParameters,S=new i.default({baseUrl:u,queryParams:{apiKey:r,sdkName:s,sdkVersion:o}}),A=new d.default(S,c),b=new a.default(A,this.flagConfigurationStore,null!==(e=this.banditVariationConfigurationStore)&&void 0!==e?e:null,null!==(t=this.banditModelConfigurationStore)&&void 0!==t?t:null);this.requestPoller=(0,E.default)(l.POLL_INTERVAL_MS,b.fetchAndStoreConfigurations.bind(b),{maxStartRetries:h,maxPollRetries:g,pollAfterSuccessfulStart:f,pollAfterFailedStart:p,errorOnFailedStart:m,skipInitialPoll:v}),await this.requestPoller.start()}stopPolling(){this.requestPoller&&this.requestPoller.stop()}getStringAssignment(e,t,r,i){return this.getStringAssignmentDetails(e,t,r,i).variation}getStringAssignmentDetails(e,t,r,i){var n;let{eppoValue:s,flagEvaluationDetails:o}=this.getAssignmentVariation(e,t,r,c.EppoValue.String(i),f.VariationType.STRING);return{variation:null!==(n=s.stringValue)&&void 0!==n?n:i,action:null,evaluationDetails:o}}getBoolAssignment(e,t,r,i){return this.getBooleanAssignment(e,t,r,i)}getBooleanAssignment(e,t,r,i){return this.getBooleanAssignmentDetails(e,t,r,i).variation}getBooleanAssignmentDetails(e,t,r,i){var n;let{eppoValue:s,flagEvaluationDetails:o}=this.getAssignmentVariation(e,t,r,c.EppoValue.Bool(i),f.VariationType.BOOLEAN);return{variation:null!==(n=s.boolValue)&&void 0!==n?n:i,action:null,evaluationDetails:o}}getIntegerAssignment(e,t,r,i){return this.getIntegerAssignmentDetails(e,t,r,i).variation}getIntegerAssignmentDetails(e,t,r,i){var n;let{eppoValue:s,flagEvaluationDetails:o}=this.getAssignmentVariation(e,t,r,c.EppoValue.Numeric(i),f.VariationType.INTEGER);return{variation:null!==(n=s.numericValue)&&void 0!==n?n:i,action:null,evaluationDetails:o}}getNumericAssignment(e,t,r,i){return this.getNumericAssignmentDetails(e,t,r,i).variation}getNumericAssignmentDetails(e,t,r,i){var n;let{eppoValue:s,flagEvaluationDetails:o}=this.getAssignmentVariation(e,t,r,c.EppoValue.Numeric(i),f.VariationType.NUMERIC);return{variation:null!==(n=s.numericValue)&&void 0!==n?n:i,action:null,evaluationDetails:o}}getJSONAssignment(e,t,r,i){return this.getJSONAssignmentDetails(e,t,r,i).variation}getJSONAssignmentDetails(e,t,r,i){var n;let{eppoValue:s,flagEvaluationDetails:o}=this.getAssignmentVariation(e,t,r,c.EppoValue.JSON(i),f.VariationType.JSON);return{variation:null!==(n=s.objectValue)&&void 0!==n?n:i,action:null,evaluationDetails:o}}getBanditAction(e,t,r,i,n){let{variation:s,action:o}=this.getBanditActionDetails(e,t,r,i,n);return{variation:s,action:o}}getBanditActionDetails(e,t,r,i,s){var o,a,l;let u=this.flagEvaluationDetailsBuilder(e),c={variation:s,action:null},h=s,g=null;try{let n=null===(o=this.banditVariationConfigurationStore)||void 0===o?void 0:o.get(e);if(n&&!Object.keys(i).length)return Object.assign(Object.assign({},c),{evaluationDetails:u.buildForNoneResult("NO_ACTIONS_SUPPLIED_FOR_BANDIT","No bandit actions passed for a flag known to have an active bandit")});let d=this.ensureNonContextualSubjectAttributes(r),{variation:f,evaluationDetails:p}=this.getStringAssignmentDetails(e,t,d,s);h=f;let E=null===(a=null==n?void 0:n.find(e=>e.variationValue===h))||void 0===a?void 0:a.key;if(E){let n=null===(l=this.banditModelConfigurationStore)||void 0===l?void 0:l.get(E);if(!n)throw Error("No model parameters for bandit "+E);let s=n.modelData,o=this.ensureContextualSubjectAttributes(r),a=this.ensureActionsWithContextualAttributes(i),u=this.banditEvaluator.evaluateBandit(e,t,o,a,s);g=u.actionKey,p.banditAction=g,p.banditKey=E;let c={timestamp:new Date().toISOString(),featureFlag:e,bandit:E,subject:t,action:g,actionProbability:u.actionWeight,optimalityGap:u.optimalityGap,modelVersion:n.modelVersion,subjectNumericAttributes:o.numericAttributes,subjectCategoricalAttributes:o.categoricalAttributes,actionNumericAttributes:a[g].numericAttributes,actionCategoricalAttributes:a[g].categoricalAttributes,metaData:this.buildLoggerMetadata(),evaluationDetails:p};this.logBanditAction(c)}return{variation:h,action:g,evaluationDetails:p}}catch(e){if(n.logger.error("Error evaluating bandit action",e),!this.isGracefulFailureMode)throw e;return Object.assign(Object.assign({},c),{evaluationDetails:u.buildForNoneResult("ASSIGNMENT_ERROR",`Error evaluating bandit action: ${e.message}`)})}}ensureNonContextualSubjectAttributes(e){return this.isInstanceOfContextualAttributes(e)?Object.assign(Object.assign({},e.numericAttributes),e.categoricalAttributes):e}ensureContextualSubjectAttributes(e){return this.isInstanceOfContextualAttributes(e)?e:this.deduceAttributeContext(e)}ensureActionsWithContextualAttributes(e){let t={};return Array.isArray(e)?e.forEach(e=>{t[e]={numericAttributes:{},categoricalAttributes:{}}}):Object.values(e).every(this.isInstanceOfContextualAttributes)?t=e:Object.entries(e).forEach(([e,r])=>{t[e]=this.deduceAttributeContext(r)}),t}isInstanceOfContextualAttributes(e){return!!("object"==typeof e&&e&&"numericAttributes"in e&&"categoricalAttributes"in e)}deduceAttributeContext(e){let t={numericAttributes:{},categoricalAttributes:{}};return Object.entries(e).forEach(([e,r])=>{"number"==typeof r&&isFinite(r)?t.numericAttributes[e]=r:t.categoricalAttributes[e]=r}),t}logBanditAction(e){if(!this.banditLogger){this.queuedBanditEvents.length<l.MAX_EVENT_QUEUE_SIZE&&this.queuedBanditEvents.push(e);return}try{this.banditLogger.logBanditAction(e)}catch(e){n.logger.warn("Error encountered logging bandit action",e)}}getAssignmentVariation(e,t,r,i,n){try{let s=this.getAssignmentDetail(e,t,r,n);if(!s.variation)return{eppoValue:i,flagEvaluationDetails:s.flagEvaluationDetails};return{eppoValue:c.EppoValue.valueOf(s.variation.value,n),flagEvaluationDetails:s.flagEvaluationDetails}}catch(e){return{eppoValue:this.rethrowIfNotGraceful(e,i),flagEvaluationDetails:new g.FlagEvaluationDetailsBuilder("",[],"","").buildForNoneResult("ASSIGNMENT_ERROR",`Assignment Error: ${e.message}`)}}}rethrowIfNotGraceful(e,t){if(this.isGracefulFailureMode)return n.logger.error(`[Eppo SDK] Error getting assignment: ${e.message}`),null!=t?t:c.EppoValue.Null();throw e}getAssignmentDetail(e,t,r={},i){(0,m.validateNotBlank)(t,"Invalid argument: subjectKey cannot be blank"),(0,m.validateNotBlank)(e,"Invalid argument: flagKey cannot be blank");let s=this.flagEvaluationDetailsBuilder(e),o=this.getConfigDetails(),a=this.getFlag(e);if(null===a){n.logger.warn(`[Eppo SDK] No assigned variation. Flag not found: ${e}`);let i=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,h.noneResult)(e,t,r,i)}if(!A(i,a.variationType))throw TypeError(`Variation value does not have the correct type. Found: ${a.variationType} != ${i} for flag ${e}`);if(!a.enabled){n.logger.info(`[Eppo SDK] No assigned variation. Flag is disabled: ${e}`);let i=s.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e}`);return(0,h.noneResult)(e,t,r,i)}let l=this.evaluator.evaluateFlag(a,o,t,r,this.isObfuscated,i);if(this.isObfuscated&&(l.flagKey=e),(null==l?void 0:l.variation)&&!b(i,l.variation.value)){let{key:n,value:o}=l.variation,a=`Expected variation type ${i} does not match for variation '${n}' with value ${o}`,u=s.buildForNoneResult("TYPE_MISMATCH",a);return(0,h.noneResult)(e,t,r,u)}try{(null==l?void 0:l.doLog)&&this.logAssignment(l)}catch(e){n.logger.error(`[Eppo SDK] Error logging assignment event: ${e}`)}return l}flagEvaluationDetailsBuilder(e){var t;let r=this.getFlag(e),i=this.getConfigDetails();return new g.FlagEvaluationDetailsBuilder(i.configEnvironment.name,null!==(t=null==r?void 0:r.allocations)&&void 0!==t?t:[],i.configFetchedAt,i.configPublishedAt)}getConfigDetails(){var e,t,r;return{configFetchedAt:null!==(e=this.flagConfigurationStore.getConfigFetchedAt())&&void 0!==e?e:"",configPublishedAt:null!==(t=this.flagConfigurationStore.getConfigPublishedAt())&&void 0!==t?t:"",configEnvironment:null!==(r=this.flagConfigurationStore.getEnvironment())&&void 0!==r?r:{name:""}}}getFlag(e){return this.isObfuscated?this.getObfuscatedFlag(e):this.flagConfigurationStore.get(e)}getObfuscatedFlag(e){let t=this.flagConfigurationStore.get((0,p.getMD5Hash)(e));return t?(0,u.decodeFlag)(t):null}getFlagKeys(){return this.flagConfigurationStore.getKeys()}isInitialized(){return this.flagConfigurationStore.isInitialized()&&(!this.banditVariationConfigurationStore||this.banditVariationConfigurationStore.isInitialized())&&(!this.banditModelConfigurationStore||this.banditModelConfigurationStore.isInitialized())}setLogger(e){this.setAssignmentLogger(e)}setAssignmentLogger(e){var t;this.assignmentLogger=e,this.flushQueuedEvents(this.queuedAssignmentEvents,null===(t=this.assignmentLogger)||void 0===t?void 0:t.logAssignment)}setBanditLogger(e){var t;this.banditLogger=e,this.flushQueuedEvents(this.queuedBanditEvents,null===(t=this.banditLogger)||void 0===t?void 0:t.logBanditAction)}disableAssignmentCache(){this.assignmentCache=void 0}useNonExpiringInMemoryAssignmentCache(){this.assignmentCache=new o.NonExpiringInMemoryAssignmentCache}useLRUInMemoryAssignmentCache(e){this.assignmentCache=new o.LRUInMemoryAssignmentCache(e)}useCustomAssignmentCache(e){this.assignmentCache=e}setIsGracefulFailureMode(e){this.isGracefulFailureMode=e}getFlagConfigurations(){return this.flagConfigurationStore.entries()}flushQueuedEvents(e,t){let r=[...e];e.length=0,t&&r.forEach(e=>{try{t(e)}catch(e){n.logger.error(`[Eppo SDK] Error flushing event to logger: ${e.message}`)}})}logAssignment(e){var t,r,i,s,o;let{flagKey:a,subjectKey:u,allocationKey:c,subjectAttributes:h,variation:g}=e,d=Object.assign(Object.assign({},null!==(t=e.extraLogging)&&void 0!==t?t:{}),{allocation:null!=c?c:null,experiment:c?`${a}-${c}`:null,featureFlag:a,variation:null!==(r=null==g?void 0:g.key)&&void 0!==r?r:null,subject:u,timestamp:new Date().toISOString(),subjectAttributes:h,metaData:this.buildLoggerMetadata(),evaluationDetails:e.flagEvaluationDetails});if(!(g&&c&&(null===(i=this.assignmentCache)||void 0===i?void 0:i.has({flagKey:a,subjectKey:u,allocationKey:c,variationKey:g.key})))){if(!this.assignmentLogger){this.queuedAssignmentEvents.length<l.MAX_EVENT_QUEUE_SIZE&&this.queuedAssignmentEvents.push(d);return}try{this.assignmentLogger.logAssignment(d),null===(s=this.assignmentCache)||void 0===s||s.set({flagKey:a,subjectKey:u,allocationKey:null!=c?c:"__eppo_no_allocation",variationKey:null!==(o=null==g?void 0:g.key)&&void 0!==o?o:"__eppo_no_variation"})}catch(e){n.logger.error(`[Eppo SDK] Error logging assignment event: ${e.message}`)}}}buildLoggerMetadata(){return{obfuscated:this.isObfuscated,sdkLanguage:"javascript",sdkLibVersion:v.LIB_VERSION}}}function A(e,t){return void 0===e||t===e}function b(e,t){if(void 0==e)return!0;switch(e){case f.VariationType.STRING:return"string"==typeof t;case f.VariationType.BOOLEAN:return"boolean"==typeof t;case f.VariationType.INTEGER:return"number"==typeof t&&Number.isInteger(t);case f.VariationType.NUMERIC:return"number"==typeof t;case f.VariationType.JSON:return"string"==typeof t;default:return!1}}t.default=S,t.checkTypeMatch=A,t.checkValueTypeMatch=b},87764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,r,i){this.httpClient=e,this.flagConfigurationStore=t,this.banditVariationConfigurationStore=r,this.banditModelConfigurationStore=i}async fetchAndStoreConfigurations(){var e;let t=await this.httpClient.getUniversalFlagConfiguration();if(!(null==t?void 0:t.flags))return;await this.hydrateConfigurationStore(this.flagConfigurationStore,{entries:t.flags,environment:t.environment,createdAt:t.createdAt});let r=Object.keys(null!==(e=t.bandits)&&void 0!==e?e:{}).length>0,i=!!(this.banditVariationConfigurationStore&&this.banditModelConfigurationStore);if(r&&i){let e=this.indexBanditVariationsByFlagKey(t.bandits);await this.hydrateConfigurationStore(this.banditVariationConfigurationStore,{entries:e,environment:t.environment,createdAt:t.createdAt});let r=await this.httpClient.getBanditParameters();if(null==r?void 0:r.bandits){if(!this.banditModelConfigurationStore)throw Error("Bandit parameters fetched but no bandit configuration store provided");await this.hydrateConfigurationStore(this.banditModelConfigurationStore,{entries:r.bandits,environment:t.environment,createdAt:t.createdAt})}}}async hydrateConfigurationStore(e,t){e&&await e.setEntries(t.entries)&&(e.setEnvironment(t.environment),e.setConfigFetchedAt(new Date().toISOString()),e.setConfigPublishedAt(t.createdAt))}indexBanditVariationsByFlagKey(e){let t={};return Object.values(e).forEach(e=>{e.forEach(e=>{let r=t[e.flagKey];r||(r=[],t[e.flagKey]=r),r.push(e)})}),t}}t.default=r},26811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HybridConfigurationStore=void 0;let i=r(70412);class n{constructor(e,t){this.servingStore=e,this.persistentStore=t,this.environment=null,this.configFetchedAt=null,this.configPublishedAt=null}async init(){if(!this.persistentStore)return;this.persistentStore.isInitialized()||i.logger.warn(`${i.loggerPrefix} Persistent store is not initialized from remote configuration. Serving assignments that may be stale.`);let e=await this.persistentStore.entries();this.servingStore.setEntries(e)}isInitialized(){var e,t;return this.servingStore.isInitialized()&&(null===(t=null===(e=this.persistentStore)||void 0===e?void 0:e.isInitialized())||void 0===t||t)}async isExpired(){var e;let t=await (null===(e=this.persistentStore)||void 0===e?void 0:e.isExpired());return null==t||t}get(e){return this.servingStore.isInitialized()||i.logger.warn(`${i.loggerPrefix} getting a value from a ServingStore that is not initialized.`),this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async setEntries(e){return this.persistentStore&&await this.persistentStore.setEntries(e),this.servingStore.setEntries(e),!0}setEnvironment(e){this.environment=e}getEnvironment(){return this.environment}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}}t.HybridConfigurationStore=n},26462:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryOnlyConfigurationStore=t.MemoryStore=void 0;class r{constructor(){this.store={},this.initialized=!1}get(e){var t;return null!==(t=this.store[e])&&void 0!==t?t:null}entries(){return this.store}getKeys(){return Object.keys(this.store)}isInitialized(){return this.initialized}setEntries(e){this.store=Object.assign({},e),this.initialized=!0}}t.MemoryStore=r;class i{constructor(){this.servingStore=new r,this.initialized=!1,this.configFetchedAt=null,this.configPublishedAt=null,this.environment=null}init(){return this.initialized=!0,Promise.resolve()}get(e){return this.servingStore.get(e)}entries(){return this.servingStore.entries()}getKeys(){return this.servingStore.getKeys()}async isExpired(){return!0}isInitialized(){return this.initialized}async setEntries(e){return this.servingStore.setEntries(e),this.initialized=!0,!0}getEnvironment(){return this.environment}setEnvironment(e){this.environment=e}getConfigFetchedAt(){return this.configFetchedAt}setConfigFetchedAt(e){this.configFetchedAt=e}getConfigPublishedAt(){return this.configPublishedAt}setConfigPublishedAt(e){this.configPublishedAt=e}}t.MemoryOnlyConfigurationStore=i},31950:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BANDIT_ASSIGNMENT_SHARDS=t.MAX_EVENT_QUEUE_SIZE=t.NULL_SENTINEL=t.SESSION_ASSIGNMENT_CONFIG_LOADED=t.BANDIT_ENDPOINT=t.UFC_ENDPOINT=t.BASE_URL=t.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=t.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=t.POLL_JITTER_PCT=t.POLL_INTERVAL_MS=t.REQUEST_TIMEOUT_MILLIS=t.DEFAULT_REQUEST_TIMEOUT_MS=void 0,t.DEFAULT_REQUEST_TIMEOUT_MS=5e3,t.REQUEST_TIMEOUT_MILLIS=t.DEFAULT_REQUEST_TIMEOUT_MS,t.POLL_INTERVAL_MS=3e4,t.POLL_JITTER_PCT=.1,t.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES=1,t.DEFAULT_POLL_CONFIG_REQUEST_RETRIES=7,t.BASE_URL="https://fscdn.eppo.cloud/api",t.UFC_ENDPOINT="/flag-config/v1/config",t.BANDIT_ENDPOINT="/flag-config/v1/bandits",t.SESSION_ASSIGNMENT_CONFIG_LOADED="eppo-session-assignment-config-loaded",t.NULL_SENTINEL="EPPO_NULL",t.MAX_EVENT_QUEUE_SIZE=100,t.BANDIT_ASSIGNMENT_SHARDS=1e4},27524:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeObject=t.decodeShard=t.decodeSplit=t.decodeAllocation=t.decodeValue=t.decodeVariations=t.decodeFlag=void 0;let i=r(68397),n=r(80288);function s(e,t){return Object.fromEntries(Object.entries(e).map(([,e])=>{let r=(0,n.decodeBase64)(e.key);return[r,{key:r,value:o(e.value,t)}]}))}function o(e,t){switch(t){case i.VariationType.INTEGER:case i.VariationType.NUMERIC:return Number((0,n.decodeBase64)(e));case i.VariationType.BOOLEAN:return"true"===(0,n.decodeBase64)(e);default:return(0,n.decodeBase64)(e)}}function a(e){return Object.assign(Object.assign({},e),{key:(0,n.decodeBase64)(e.key),splits:e.splits.map(l),startAt:e.startAt?new Date((0,n.decodeBase64)(e.startAt)).toISOString():void 0,endAt:e.endAt?new Date((0,n.decodeBase64)(e.endAt)).toISOString():void 0})}function l(e){return{extraLogging:e.extraLogging?c(e.extraLogging):void 0,variationKey:(0,n.decodeBase64)(e.variationKey),shards:e.shards.map(u)}}function u(e){return Object.assign(Object.assign({},e),{salt:(0,n.decodeBase64)(e.salt)})}function c(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[(0,n.decodeBase64)(e),(0,n.decodeBase64)(t)]))}t.decodeFlag=function(e){return Object.assign(Object.assign({},e),{variations:s(e.variations,e.variationType),allocations:e.allocations.map(a)})},t.decodeVariations=s,t.decodeValue=o,t.decodeAllocation=a,t.decodeSplit=l,t.decodeShard=u,t.decodeObject=c},18935:(e,t,r)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.EppoValue=t.EppoValueType=void 0;let n=r(68397),s=r(80288);!function(e){e[e.NullType=0]="NullType",e[e.BoolType=1]="BoolType",e[e.NumericType=2]="NumericType",e[e.StringType=3]="StringType",e[e.JSONType=4]="JSONType"}(i=t.EppoValueType||(t.EppoValueType={}));class o{constructor(e,t,r,i,n){this.valueType=e,this.boolValue=t,this.numericValue=r,this.stringValue=i,this.objectValue=n}static valueOf(e,t){if(null==e)return o.Null();switch(t){case n.VariationType.BOOLEAN:return o.Bool(e);case n.VariationType.NUMERIC:case n.VariationType.INTEGER:return o.Numeric(e);case n.VariationType.STRING:return o.String(e);case n.VariationType.JSON:return o.JSON(e);default:return o.String(e)}}toString(){var e,t,r;switch(this.valueType){case i.NullType:return"null";case i.BoolType:return this.boolValue?"true":"false";case i.NumericType:return this.numericValue?this.numericValue.toString():"0";case i.StringType:return null!==(e=this.stringValue)&&void 0!==e?e:"";case i.JSONType:try{return null!==(t=JSON.stringify(this.objectValue))&&void 0!==t?t:""}catch(e){return null!==(r=this.stringValue)&&void 0!==r?r:""}}}toHashedString(){let e=this.toString();return(0,s.getMD5Hash)(e)}static Bool(e){return new o(i.BoolType,e,void 0,void 0,void 0)}static Numeric(e){return new o(i.NumericType,void 0,e,void 0,void 0)}static String(e){return new o(i.StringType,void 0,void 0,e,void 0)}static JSON(e){return new o(i.JSONType,void 0,void 0,void 0,"string"==typeof e?JSON.parse(e):e)}static Null(){return new o(i.NullType,void 0,void 0,void 0,void 0)}}t.EppoValue=o},56498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchesRules=t.noneResult=t.hashKey=t.isInShardRange=t.Evaluator=void 0;let i=r(24817),n=r(64248),s=r(57793);class o{constructor(e){this.getMatchedEvaluationDetailsMessage=(e,t,r)=>{var i;let n=!!(null===(i=e.rules)||void 0===i?void 0:i.length),s=e.splits.length>1,o=t.shards.length>1,a=s||o;return n&&a?`Supplied attributes match rules defined in allocation "${e.key}" and ${r} belongs to the range of traffic assigned to "${t.variationKey}".`:n&&!a?`Supplied attributes match rules defined in allocation "${e.key}".`:`${r} belongs to the range of traffic assigned to "${t.variationKey}" defined in allocation "${e.key}".`},this.sharder=null!=e?e:new s.MD5Sharder}evaluateFlag(e,t,r,n,s,o){var a,l;let h=new i.FlagEvaluationDetailsBuilder(t.configEnvironment.name,e.allocations,t.configFetchedAt,t.configPublishedAt);if(!e.enabled)return u(e.key,r,n,h.buildForNoneResult("FLAG_UNRECOGNIZED_OR_DISABLED",`Unrecognized or disabled flag: ${e.key}`));let g=new Date,d=[];for(let t=0;t<e.allocations.length;t++){let u=e.allocations[t],f=e=>{d.push({key:u.key,allocationEvaluationCode:e,orderPosition:t+1})};if(u.startAt&&g<new Date(u.startAt)){f(i.AllocationEvaluationCode.BEFORE_START_TIME);continue}if(u.endAt&&g>new Date(u.endAt)){f(i.AllocationEvaluationCode.AFTER_END_TIME);continue}let{matched:p,matchedRule:E}=c(null!==(a=null==u?void 0:u.rules)&&void 0!==a?a:[],Object.assign({id:r},n),s);if(p){for(let i of u.splits)if(i.shards.every(t=>this.matchesShard(t,r,e.totalShards))){let s=e.variations[i.variationKey],a=h.setMatch(t,s,u,E,d,o).build("MATCH",this.getMatchedEvaluationDetailsMessage(u,i,r));return{flagKey:e.key,subjectKey:r,subjectAttributes:n,allocationKey:u.key,variation:s,extraLogging:null!==(l=i.extraLogging)&&void 0!==l?l:{},doLog:u.doLog,flagEvaluationDetails:a}}f(i.AllocationEvaluationCode.TRAFFIC_EXPOSURE_MISS)}else f(i.AllocationEvaluationCode.FAILING_RULE)}return u(e.key,r,n,h.setNoMatchFound(d).build("DEFAULT_ALLOCATION_NULL",'No allocations matched. Falling back to "Default Allocation", serving NULL'))}matchesShard(e,t,r){let i=this.sharder.getShard(l(e.salt,t),r);return e.ranges.some(e=>a(i,e))}}function a(e,t){return t.start<=e&&e<t.end}function l(e,t){return`${e}-${t}`}function u(e,t,r,i){return{flagKey:e,subjectKey:t,subjectAttributes:r,allocationKey:null,variation:null,extraLogging:{},doLog:!1,flagEvaluationDetails:i}}function c(e,t,r){if(!e.length)return{matched:!0,matchedRule:null};let i=null;return e.some(e=>{let s=(0,n.matchesRule)(e,t,r);return s&&(i=e),s})?{matched:!0,matchedRule:i}:{matched:!1,matchedRule:null}}t.Evaluator=o,t.isInShardRange=a,t.hashKey=l,t.noneResult=u,t.matchesRules=c},24817:(e,t,r)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.FlagEvaluationDetailsBuilder=t.AllocationEvaluationCode=t.flagEvaluationCodes=void 0;let n=r(68397);t.flagEvaluationCodes=["MATCH","FLAG_UNRECOGNIZED_OR_DISABLED","TYPE_MISMATCH","ASSIGNMENT_ERROR","DEFAULT_ALLOCATION_NULL","NO_ACTIONS_SUPPLIED_FOR_BANDIT"],function(e){e.UNEVALUATED="UNEVALUATED",e.MATCH="MATCH",e.BEFORE_START_TIME="BEFORE_START_TIME",e.TRAFFIC_EXPOSURE_MISS="TRAFFIC_EXPOSURE_MISS",e.AFTER_END_TIME="AFTER_END_TIME",e.FAILING_RULE="FAILING_RULE"}(i=t.AllocationEvaluationCode||(t.AllocationEvaluationCode={}));class s{constructor(e,t,r,s){this.environmentName=e,this.allocations=t,this.configFetchedAt=r,this.configPublishedAt=s,this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.unevaluatedAllocations=[],this.setNone=()=>(this.variationKey=null,this.variationValue=null,this.matchedRule=null,this.matchedAllocation=null,this.unmatchedAllocations=[],this.unevaluatedAllocations=this.allocations.map((e,t)=>({key:e.key,allocationEvaluationCode:i.UNEVALUATED,orderPosition:t+1})),this),this.setNoMatchFound=(e=[])=>(this.variationKey=null,this.variationValue=null,this.matchedAllocation=null,this.matchedRule=null,this.unmatchedAllocations=e,this.unevaluatedAllocations=[],this),this.setMatch=(e,t,r,s,o,a)=>{this.variationKey=t.key,this.variationValue=a===n.VariationType.JSON&&"string"==typeof t.value?JSON.parse(t.value):t.value,this.matchedRule=s,this.matchedAllocation={key:r.key,allocationEvaluationCode:i.MATCH,orderPosition:e+1},this.unmatchedAllocations=o;let l=e+1,u=l+1;return this.unevaluatedAllocations=this.allocations.slice(l).map((e,t)=>({key:e.key,allocationEvaluationCode:i.UNEVALUATED,orderPosition:u+t})),this},this.buildForNoneResult=(e,t)=>this.setNone().build(e,t),this.build=(e,t)=>({environmentName:this.environmentName,flagEvaluationCode:e,flagEvaluationDescription:t,variationKey:this.variationKey,variationValue:this.variationValue,banditKey:null,banditAction:null,configFetchedAt:this.configFetchedAt,configPublishedAt:this.configPublishedAt,matchedRule:this.matchedRule,matchedAllocation:this.matchedAllocation,unmatchedAllocations:this.unmatchedAllocations,unevaluatedAllocations:this.unevaluatedAllocations}),this.setNone()}}t.FlagEvaluationDetailsBuilder=s},49231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpRequestError=void 0;class r extends Error{constructor(e,t,r){super(e),this.message=e,this.status=t,this.cause=r,r&&(this.cause=r)}}t.HttpRequestError=r;class i{constructor(e,t){this.apiEndpoints=e,this.timeout=t}async getUniversalFlagConfiguration(){let e=this.apiEndpoints.ufcEndpoint();return await this.rawGet(e)}async getBanditParameters(){let e=this.apiEndpoints.banditParametersEndpoint();return await this.rawGet(e)}async rawGet(e){try{let t=new AbortController,i=t.signal,n=setTimeout(()=>t.abort(),this.timeout),s=await fetch(e.toString(),{signal:i});if(clearTimeout(n),!(null==s?void 0:s.ok))throw new r("Failed to fetch data",null==s?void 0:s.status);return await s.json()}catch(e){if("AbortError"===e.name)throw new r("Request timed out",408,e);if(e instanceof r)throw e;throw new r("Network error",0,e)}}}t.default=i},25791:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariationType=t.assignmentCacheValueToString=t.assignmentCacheKeyToString=t.LRUInMemoryAssignmentCache=t.NonExpiringInMemoryAssignmentCache=t.MemoryOnlyConfigurationStore=t.HybridConfigurationStore=t.MemoryStore=t.validation=t.HttpClient=t.FlagConfigRequestor=t.ApiEndpoints=t.constants=t.EppoClient=t.AbstractAssignmentCache=t.applicationLogger=void 0;let i=r(50704);t.ApiEndpoints=i.default;let n=r(70412);Object.defineProperty(t,"applicationLogger",{enumerable:!0,get:function(){return n.logger}});let s=r(31145);Object.defineProperty(t,"AbstractAssignmentCache",{enumerable:!0,get:function(){return s.AbstractAssignmentCache}}),Object.defineProperty(t,"NonExpiringInMemoryAssignmentCache",{enumerable:!0,get:function(){return s.NonExpiringInMemoryAssignmentCache}}),Object.defineProperty(t,"LRUInMemoryAssignmentCache",{enumerable:!0,get:function(){return s.LRUInMemoryAssignmentCache}}),Object.defineProperty(t,"assignmentCacheKeyToString",{enumerable:!0,get:function(){return s.assignmentCacheKeyToString}}),Object.defineProperty(t,"assignmentCacheValueToString",{enumerable:!0,get:function(){return s.assignmentCacheValueToString}});let o=r(86381);t.EppoClient=o.default;let a=r(87764);t.FlagConfigRequestor=a.default;let l=r(26811);Object.defineProperty(t,"HybridConfigurationStore",{enumerable:!0,get:function(){return l.HybridConfigurationStore}});let u=r(26462);Object.defineProperty(t,"MemoryStore",{enumerable:!0,get:function(){return u.MemoryStore}}),Object.defineProperty(t,"MemoryOnlyConfigurationStore",{enumerable:!0,get:function(){return u.MemoryOnlyConfigurationStore}});let c=r(31950);t.constants=c;let h=r(49231);t.HttpClient=h.default;let g=r(68397);Object.defineProperty(t,"VariationType",{enumerable:!0,get:function(){return g.VariationType}});let d=r(90454);t.validation=d},68397:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariationType=void 0,function(e){e.STRING="STRING",e.INTEGER="INTEGER",e.NUMERIC="NUMERIC",e.BOOLEAN="BOOLEAN",e.JSON="JSON"}(t.VariationType||(t.VariationType={}))},80288:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBase64=t.encodeBase64=t.getMD5Hash=void 0;let i=r(8360),n=r(21741);t.getMD5Hash=function(e){return n(e)},t.encodeBase64=function(e){return i.btoaPolyfill(e)},t.decodeBase64=function(e){return i.atobPolyfill(e)}},69811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(70412),n=r(31950),s=r(25193);function o(e){return e*n.POLL_JITTER_PCT/2+Math.max(Math.floor(Math.random()*e*n.POLL_JITTER_PCT/2),1)}t.default=function(e,t,r){let a,l=!1,u=0,c=e,h=!1,g=()=>{l||(l=!0,a&&clearTimeout(a),i.logger.info("Eppo SDK polling stopped"))};async function d(){var s;if(!l){try{await t(),u=0,c=e,h&&(h=!1,i.logger.info("Eppo SDK poll successful; resuming normal polling"))}catch(a){h=!0,i.logger.warn(`Eppo SDK encountered an error polling configurations: ${a.message}`);let t=1+(null!==(s=null==r?void 0:r.maxPollRetries)&&void 0!==s?s:n.DEFAULT_POLL_CONFIG_REQUEST_RETRIES);if(++u<t){let r=Math.pow(2,u),n=o(e);c=r*e+n,i.logger.warn(`Eppo SDK will try polling again in ${c} ms (${t-u} attempts remaining)`)}else i.logger.error(`Eppo SDK reached maximum of ${u} failed polling attempts. Stopping polling`),g()}setTimeout(d,c)}}return{start:async()=>{var u;l=!1;let c=!1,f=(null==r?void 0:r.skipInitialPoll)?0:1+(null!==(u=null==r?void 0:r.maxStartRetries)&&void 0!==u?u:n.DEFAULT_INITIAL_CONFIG_REQUEST_RETRIES),p=null;for(;!c&&f>0;)try{await t(),c=!0,h=!1,i.logger.info("Eppo SDK successfully requested initial configuration")}catch(t){if(h=!0,i.logger.warn(`Eppo SDK encountered an error with initial poll of configurations: ${t.message}`),--f>0){let t=o(e);i.logger.warn(`Eppo SDK will retry the initial poll again in ${t} ms (${f} attempts remaining)`),await (0,s.waitForMs)(t)}else(null==r?void 0:r.pollAfterFailedStart)?i.logger.warn("Eppo SDK initial poll failed; will attempt regular polling"):(i.logger.error("Eppo SDK initial poll failed. Aborting polling"),g()),(null==r?void 0:r.errorOnFailedStart)&&(p=t)}if(!l&&(c&&(null==r?void 0:r.pollAfterSuccessfulStart)||!c&&(null==r?void 0:r.pollAfterFailedStart))?(i.logger.info(`Eppo SDK starting regularly polling every ${e} ms`),a=setTimeout(d,e)):i.logger.info("Eppo SDK will not poll for configuration updates"),p)throw i.logger.info("Eppo SDK rethrowing start error"),p},stop:g}}},64248:(e,t,r)=>{"use strict";var i,n,s;Object.defineProperty(t,"__esModule",{value:!0}),t.matchesRule=t.ObfuscatedOperatorType=t.OperatorType=void 0;let o=r(57426),a=r(80288);function l(e,t){return c(e,t).length>0}function u(e,t){return 0===c(e,t).length}function c(e,t){return t.filter(t=>t===e)}function h(e,t,r){return r(Number(e),Number(t))}function g(e,t,r){return!!(0,o.valid)(e)&&!!(0,o.valid)(t)&&r(e,t)}function d(e){return"number"==typeof e?s.NUMERIC:Array.isArray(e)?s.STRING_ARRAY:"string"==typeof e&&(0,o.valid)(e)?s.SEM_VER:isNaN(Number(e))?s.PLAIN_STRING:s.NUMERIC}!function(e){e.MATCHES="MATCHES",e.NOT_MATCHES="NOT_MATCHES",e.GTE="GTE",e.GT="GT",e.LTE="LTE",e.LT="LT",e.ONE_OF="ONE_OF",e.NOT_ONE_OF="NOT_ONE_OF",e.IS_NULL="IS_NULL"}(i=t.OperatorType||(t.OperatorType={})),function(e){e.MATCHES="05015086bdd8402218f6aad6528bef08",e.NOT_MATCHES="8323761667755378c3a78e0a6ed37a78",e.GTE="32d35312e8f24bc1669bd2b45c00d47c",e.GT="cd6a9bd2a175104eed40f0d33a8b4020",e.LTE="cc981ecc65ecf63ad1673cbec9c64198",e.LT="c562607189d77eb9dfb707464c1e7b0b",e.ONE_OF="27457ce369f2a74203396a35ef537c0b",e.NOT_ONE_OF="602f5ee0b6e84fe29f43ab48b9e1addf",e.IS_NULL="dbd9c38e0339e6c34bd48cafc59be388"}(n=t.ObfuscatedOperatorType||(t.ObfuscatedOperatorType={})),function(e){e.PLAIN_STRING="PLAIN_STRING",e.STRING_ARRAY="STRING_ARRAY",e.SEM_VER="SEM_VER",e.NUMERIC="NUMERIC"}(s||(s={})),t.matchesRule=function(e,t,r){return!e.conditions.map(e=>r?function(e,t){let r=e[t.attribute],i=d(r);if(t.operator===n.IS_NULL)return t.value===(0,a.getMD5Hash)("true")?null==r:null!=r;if(null!=r)switch(t.operator){case n.GTE:if(i===s.SEM_VER)return g(r,(0,a.decodeBase64)(t.value),o.gte);return h(r,Number((0,a.decodeBase64)(t.value)),(e,t)=>e>=t);case n.GT:if(i===s.SEM_VER)return g(r,(0,a.decodeBase64)(t.value),o.gt);return h(r,Number((0,a.decodeBase64)(t.value)),(e,t)=>e>t);case n.LTE:if(i===s.SEM_VER)return g(r,(0,a.decodeBase64)(t.value),o.lte);return h(r,Number((0,a.decodeBase64)(t.value)),(e,t)=>e<=t);case n.LT:if(i===s.SEM_VER)return g(r,(0,a.decodeBase64)(t.value),o.lt);return h(r,Number((0,a.decodeBase64)(t.value)),(e,t)=>e<t);case n.MATCHES:return new RegExp((0,a.decodeBase64)(t.value)).test(r);case n.NOT_MATCHES:return!new RegExp((0,a.decodeBase64)(t.value)).test(r);case n.ONE_OF:return l((0,a.getMD5Hash)(r.toString()),t.value);case n.NOT_ONE_OF:return u((0,a.getMD5Hash)(r.toString()),t.value)}return!1}(Object.entries(t).reduce((e,[t,r])=>Object.assign({[(0,a.getMD5Hash)(t)]:r},e),{}),e):function(e,t){let r=e[t.attribute],n=d(t.value);if(t.operator===i.IS_NULL)return t.value?null==r:null!=r;if(null!=r)switch(t.operator){case i.GTE:if(n===s.SEM_VER)return g(r,t.value,o.gte);return h(r,t.value,(e,t)=>e>=t);case i.GT:if(n===s.SEM_VER)return g(r,t.value,o.gt);return h(r,t.value,(e,t)=>e>t);case i.LTE:if(n===s.SEM_VER)return g(r,t.value,o.lte);return h(r,t.value,(e,t)=>e<=t);case i.LT:if(n===s.SEM_VER)return g(r,t.value,o.lt);return h(r,t.value,(e,t)=>e<t);case i.MATCHES:return new RegExp(t.value).test(r);case i.NOT_MATCHES:return!new RegExp(t.value).test(r);case i.ONE_OF:return l(r.toString(),t.value);case i.NOT_ONE_OF:return u(r.toString(),t.value)}return!1}(t,e)).includes(!1)}},57793:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeterministicSharder=t.MD5Sharder=t.Sharder=void 0;let i=r(80288);class n{}t.Sharder=n;class s extends n{getShard(e,t){return parseInt((0,i.getMD5Hash)(e).slice(0,8),16)%t}}t.MD5Sharder=s;class o extends n{constructor(e){super(),this.lookup=e}getShard(e,t){var r;return null!==(r=this.lookup[e])&&void 0!==r?r:0}}t.DeterministicSharder=o},25193:(e,t)=>{"use strict";async function r(e){await new Promise(t=>setTimeout(t,e))}Object.defineProperty(t,"__esModule",{value:!0}),t.waitForMs=void 0,t.waitForMs=r},90454:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateNotBlank=t.InvalidArgumentError=void 0;class r extends Error{}t.InvalidArgumentError=r,t.validateNotBlank=function(e,t){if(null==e||0===e.length)throw new r(t)}},75443:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIB_VERSION=void 0;let i=r(17260);t.LIB_VERSION=i.version},67510:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignmentCacheFactory=void 0;let i=r(50469),n=r(4274),s=r(50374),o=r(73347),a=r(36074);t.assignmentCacheFactory=function({forceMemoryOnly:e=!1,chromeStorage:t,storageKeySuffix:r}){let l=new a.default;if(e)return l;if(t){let e=new n.default(t);return new s.default(l,e)}if(!(0,i.hasWindowLocalStorage)())return l;{let e=new o.LocalStorageAssignmentCache(r);return new s.default(l,e)}}},4274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(25791),n=r(26823);class s{constructor(e){this.storage=new n.default(e)}set(e){this.storage.set((0,i.assignmentCacheKeyToString)(e),(0,i.assignmentCacheValueToString)(e))}has(e){throw Error("This should never be called for ChromeStorageAssignmentCache, use getEntries() instead.")}async getEntries(){return Object.entries(await this.storage.entries()).map(([e,t])=>[e,t])}}t.default=s},26823:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.storage=e}async has(e){return!!await this.get(e)}async get(e){var t;let r=await this.storage.get(e);return null!==(t=null==r?void 0:r[e])&&void 0!==t?t:void 0}async entries(){return await this.storage.get(null)}async set(e,t){await this.storage.set({[e]:t})}}t.default=r},50374:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.servingStore=e,this.persistentStore=t}async init(){let e=await this.persistentStore.getEntries();e&&this.servingStore.setEntries(e)}set(e){this.servingStore.set(e),this.persistentStore.set(e)}has(e){return this.servingStore.has(e)}}t.default=r},73347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageAssignmentCache=void 0;let i=r(25791),n=r(50469);class s extends i.AbstractAssignmentCache{constructor(e){super(new o(e))}setEntries(e){e.forEach(([e,t])=>{e&&t&&this.delegate.set(e,t)})}getEntries(){return Promise.resolve(Array.from(this.entries()))}}t.LocalStorageAssignmentCache=s;class o{constructor(e){if(!(0,n.hasWindowLocalStorage)())throw Error("LocalStorage is not available");let t=e?`-${e}`:"";this.localStorageKey=`eppo-assignment${t}`}clear(){this.getCache().clear()}delete(e){return this.getCache().delete(e)}forEach(e,t){this.getCache().forEach(e,t)}entries(){return this.getCache().entries()}keys(){return this.getCache().keys()}values(){return this.getCache().values()}[Symbol.iterator](){return this.getCache()[Symbol.iterator]()}has(e){return this.getCache().has(e)}get(e){var t;return null!==(t=this.getCache().get(e))&&void 0!==t?t:void 0}set(e,t){return this.setCache(this.getCache().set(e,t))}getCache(){let e=window.localStorage.getItem(this.localStorageKey);return e?new Map(JSON.parse(e)):new Map}setCache(e){return window.localStorage.setItem(this.localStorageKey,JSON.stringify(Array.from(e.entries()))),this}}Symbol.toStringTag},36074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(25791);class n{constructor(){this.store=new Map,this.cache=new i.NonExpiringInMemoryAssignmentCache(this.store)}set(e){this.cache.set(e)}has(e){return this.cache.has(e)}setEntries(e){let{store:t}=this;e.forEach(([e,r])=>t.set(e,r))}getEntries(){return Promise.resolve(Array.from(this.cache.entries()))}}t.default=n},58803:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeStorageEngine=void 0;let i=r(93851);class n{constructor(e,t){this.storageMap=e,this.getContentsJsonString=async()=>{let e=await this.storageMap.get(this.contentsKey);return null!=e?e:null},this.getMetaJsonString=async()=>{let e=await this.storageMap.get(this.metaKey);return null!=e?e:null},this.setContentsJsonString=async e=>{await this.storageMap.set(this.contentsKey,e)},this.setMetaJsonString=async e=>{await this.storageMap.set(this.metaKey,e)};let r=t?`-${t}`:"";this.contentsKey=i.CONFIGURATION_KEY+r,this.metaKey=i.META_KEY+r}}t.ChromeStorageEngine=n},50469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localStorageIfAvailable=t.hasWindowLocalStorage=t.chromeStorageIfAvailable=t.hasChromeStorage=t.configurationStorageFactory=void 0;let i=r(25791),n=r(26823),s=r(58803),o=r(67680),a=r(35312),l=r(85048);function u(){return"undefined"!=typeof chrome&&!!chrome.storage}function c(){try{return"undefined"!=typeof window&&!!window.localStorage}catch(e){return!1}}t.configurationStorageFactory=function({maxAgeSeconds:e=0,servingStoreUpdateStrategy:t="always",hasChromeStorage:r=!1,hasWindowLocalStorage:u=!1,persistentStore:c,forceMemoryOnly:h=!1},{chromeStorage:g,windowLocalStorage:d,storageKeySuffix:f}={}){if(h);else if(c)return new o.IsolatableHybridConfigurationStore(new i.MemoryStore,c,t);else if(r&&g){let r=new s.ChromeStorageEngine(new n.default(g),null!=f?f:"");return new o.IsolatableHybridConfigurationStore(new i.MemoryStore,new l.StringValuedAsyncStore(r,e),t)}else if(u&&d){let r=new a.LocalStorageEngine(d,null!=f?f:"");return new o.IsolatableHybridConfigurationStore(new i.MemoryStore,new l.StringValuedAsyncStore(r,e),t)}return new i.MemoryOnlyConfigurationStore},t.hasChromeStorage=u,t.chromeStorageIfAvailable=function(){return u()?chrome.storage.local:void 0},t.hasWindowLocalStorage=c,t.localStorageIfAvailable=function(){return c()?window.localStorage:void 0}},64052:(e,t,r)=>{"use strict";t.iE=t.Ts=void 0;let i=r(25791),n=r(67510),s=r(50374),o=r(50469),a=r(76171);r(58803);let l=(0,o.configurationStorageFactory)({forceMemoryOnly:!0});class u extends i.EppoClient{getStringAssignment(e,t,r,i){return u.getAssignmentInitializationCheck(),super.getStringAssignment(e,t,r,i)}getStringAssignmentDetails(e,t,r,i){return u.getAssignmentInitializationCheck(),super.getStringAssignmentDetails(e,t,r,i)}getBoolAssignment(e,t,r,i){return this.getBooleanAssignment(e,t,r,i)}getBooleanAssignment(e,t,r,i){return u.getAssignmentInitializationCheck(),super.getBooleanAssignment(e,t,r,i)}getBooleanAssignmentDetails(e,t,r,i){return u.getAssignmentInitializationCheck(),super.getBooleanAssignmentDetails(e,t,r,i)}getIntegerAssignment(e,t,r,i){return u.getAssignmentInitializationCheck(),super.getIntegerAssignment(e,t,r,i)}getIntegerAssignmentDetails(e,t,r,i){return u.getAssignmentInitializationCheck(),super.getIntegerAssignmentDetails(e,t,r,i)}getNumericAssignment(e,t,r,i){return u.getAssignmentInitializationCheck(),super.getNumericAssignment(e,t,r,i)}getNumericAssignmentDetails(e,t,r,i){return u.getAssignmentInitializationCheck(),super.getNumericAssignmentDetails(e,t,r,i)}getJSONAssignment(e,t,r,i){return u.getAssignmentInitializationCheck(),super.getJSONAssignment(e,t,r,i)}getJSONAssignmentDetails(e,t,r,i){return u.getAssignmentInitializationCheck(),super.getJSONAssignmentDetails(e,t,r,i)}getBanditAction(e,t,r,i,n){return u.getAssignmentInitializationCheck(),super.getBanditAction(e,t,r,i,n)}getBanditActionDetails(e,t,r,i,n){return u.getAssignmentInitializationCheck(),super.getBanditActionDetails(e,t,r,i,n)}static getAssignmentInitializationCheck(){u.initialized||i.applicationLogger.warn("Eppo SDK assignment requested before init() completed")}}async function c(e){var t,r,l,c,h,g,d;let f;i.validation.validateNotBlank(e.apiKey,"API key required");let p=u.instance,{apiKey:E,persistentStore:m,baseUrl:v,maxCacheAgeSeconds:S,updateOnFetch:A}=e;try{let u,d;p.stopPolling(),p.setAssignmentLogger(e.assignmentLogger),p.setIsObfuscated(!0);let b=E.replace(/\W/g,"").substring(0,8),y=(0,o.configurationStorageFactory)({maxAgeSeconds:S,servingStoreUpdateStrategy:A,persistentStore:m,hasChromeStorage:(0,o.hasChromeStorage)(),hasWindowLocalStorage:(0,o.hasWindowLocalStorage)()},{chromeStorage:(0,o.chromeStorageIfAvailable)(),windowLocalStorage:(0,o.localStorageIfAvailable)(),storageKeySuffix:b});p.setFlagConfigurationStore(y);let I=(0,n.assignmentCacheFactory)({chromeStorage:(0,o.chromeStorageIfAvailable)(),storageKeySuffix:b});I instanceof s.default&&await I.init(),p.useCustomAssignmentCache(I);let O={apiKey:E,sdkName:a.sdkName,sdkVersion:a.sdkVersion,baseUrl:v,requestTimeoutMs:null!==(t=e.requestTimeoutMs)&&void 0!==t?t:void 0,numInitialRequestRetries:null!==(r=e.numInitialRequestRetries)&&void 0!==r?r:void 0,numPollRequestRetries:null!==(l=e.numPollRequestRetries)&&void 0!==l?l:void 0,pollAfterSuccessfulInitialization:null!==(c=e.pollAfterSuccessfulInitialization)&&void 0!==c&&c,pollAfterFailedInitialization:null!==(h=e.pollAfterFailedInitialization)&&void 0!==h&&h,throwOnFailedInitialization:!0,skipInitialPoll:null!==(g=e.skipInitialRequest)&&void 0!==g&&g};p.setConfigurationRequestParameters(O);let N=y.init().then(async()=>y.getKeys().length?await y.isExpired()&&!e.useExpiredCache?(i.applicationLogger.warn("Eppo SDK set not to use expired cached configuration"),u=Error("Configuration store was expired"),""):"config store":(i.applicationLogger.warn("Eppo SDK cached configuration is empty"),u=Error("Configuration store was empty"),"")).catch(e=>{i.applicationLogger.warn("Eppo SDK encountered an error initializing from the configuration store",e),u=e}),T=p.fetchFlagConfigurations().then(()=>"fetch").catch(e=>{i.applicationLogger.warn("Eppo SDK encountered an error initializing from fetching",e),d=e}),R=await Promise.race([N,T]);R||(R=u?await T:await N),R||(f=d)}catch(e){f=e}if(f&&(i.applicationLogger.warn("Eppo SDK was unable to initialize with a configuration, assignment calls will return the default value and not be logged"+(e.pollAfterFailedInitialization?" until an experiment configuration is successfully retrieved":"")),null===(d=e.throwOnFailedInitialization)||void 0===d||d))throw f;return u.initialized=!0,p}u.instance=new u(l,void 0,void 0,void 0,!0),u.initialized=!1,t.Ts=c,t.iE=function(){return u.instance}},67680:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsolatableHybridConfigurationStore=void 0;let i=r(25791);class n extends i.HybridConfigurationStore{constructor(e,t,r="always"){super(e,t),this.servingStoreUpdateStrategy=r}async setEntries(e){var t;this.persistentStore&&await this.persistentStore.setEntries(e);let r=!this.persistentStore||await this.persistentStore.isExpired(),i=!(null===(t=this.servingStore.getKeys())||void 0===t?void 0:t.length),n="always"===this.servingStoreUpdateStrategy||r&&"expired"===this.servingStoreUpdateStrategy||r&&i;return n&&this.servingStore.setEntries(e),n}}t.IsolatableHybridConfigurationStore=n},35312:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageEngine=void 0;let i=r(93851);class n{constructor(e,t){this.localStorage=e,this.getContentsJsonString=async()=>this.localStorage.getItem(this.contentsKey),this.getMetaJsonString=async()=>this.localStorage.getItem(this.metaKey),this.setContentsJsonString=async e=>{this.localStorage.setItem(this.contentsKey,e)},this.setMetaJsonString=async e=>{this.localStorage.setItem(this.metaKey,e)};let r=t?`-${t}`:"";this.contentsKey=i.CONFIGURATION_KEY+r,this.metaKey=i.META_KEY+r}}t.LocalStorageEngine=n},76171:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sdkName=t.sdkVersion=void 0;let i=r(22293);t.sdkVersion=i.version,t.sdkName="js-client-sdk"},93851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.META_KEY=t.CONFIGURATION_KEY=void 0,t.CONFIGURATION_KEY="eppo-configuration",t.META_KEY="eppo-configuration-meta"},85048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringValuedAsyncStore=void 0;class r{constructor(e,t=0){this.storageEngine=e,this.cooldownSeconds=t,this.initialized=!1}isInitialized(){return this.initialized}async isExpired(){if(!this.cooldownSeconds)return!0;let e=await this.storageEngine.getMetaJsonString(),t=!0;if(e){let r=JSON.parse(e).lastUpdatedAtMs;t=!r||Date.now()-r>1e3*this.cooldownSeconds}return t}async entries(){let e=await this.storageEngine.getContentsJsonString();return e?JSON.parse(e):{}}async setEntries(e){await this.storageEngine.setContentsJsonString(JSON.stringify(e));let t={lastUpdatedAtMs:new Date().getTime()};await this.storageEngine.setMetaJsonString(JSON.stringify(t)),this.initialized=!0}}t.StringValuedAsyncStore=r},40722:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},60398:(e,t)=>{"use strict";Object.prototype.toString},42346:e=>{!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&r.rotl(e,8)|0xff00ff00&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,i=0;r<e.length;r++,i+=8)t[i>>>5]|=e[r]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],i=0;i<e.length;i+=3)for(var n=e[i]<<16|e[i+1]<<8|e[i+2],s=0;s<4;s++)8*i+6*s<=8*e.length?r.push(t.charAt(n>>>6*(3-s)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],i=0,n=0;i<e.length;n=++i%4)0!=n&&r.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*n+8)-1)<<2*n|t.indexOf(e.charAt(i))>>>6-2*n);return r}};e.exports=r}()},73172:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))||!!e._isBuffer)}},8360:function(e,t,r){var i,n=r(87695).Buffer;"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g&&r.g,i=function(){"use strict";var e,t="3.7.7",r="function"==typeof n,i="function"==typeof TextDecoder?new TextDecoder:void 0,s="function"==typeof TextEncoder?new TextEncoder:void 0,o=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),a=(e={},o.forEach(function(t,r){return e[t]=r}),e),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,u=String.fromCharCode.bind(String),c="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(e){return new Uint8Array(Array.prototype.slice.call(e,0))},h=function(e){return e.replace(/=/g,"").replace(/[+\/]/g,function(e){return"+"==e?"-":"_"})},g=function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},d=function(e){for(var t,r,i,n,s="",a=e.length%3,l=0;l<e.length;){if((r=e.charCodeAt(l++))>255||(i=e.charCodeAt(l++))>255||(n=e.charCodeAt(l++))>255)throw TypeError("invalid character found");s+=o[(t=r<<16|i<<8|n)>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}return a?s.slice(0,a-3)+"===".substring(a):s},f="function"==typeof btoa?function(e){return btoa(e)}:r?function(e){return n.from(e,"binary").toString("base64")}:d,p=r?function(e){return n.from(e).toString("base64")}:function(e){for(var t=[],r=0,i=e.length;r<i;r+=4096)t.push(u.apply(null,e.subarray(r,r+4096)));return f(t.join(""))},E=function(e,t){return void 0===t&&(t=!1),t?h(p(e)):p(e)},m=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?u(192|t>>>6)+u(128|63&t):u(224|t>>>12&15)+u(128|t>>>6&63)+u(128|63&t)}var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return u(240|t>>>18&7)+u(128|t>>>12&63)+u(128|t>>>6&63)+u(128|63&t)},v=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,S=function(e){return e.replace(v,m)},A=r?function(e){return n.from(e,"utf8").toString("base64")}:s?function(e){return p(s.encode(e))}:function(e){return f(S(e))},b=function(e,t){return void 0===t&&(t=!1),t?h(A(e)):A(e)},y=function(e){return b(e,!0)},I=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,O=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return u((t>>>10)+55296)+u((1023&t)+56320);case 3:return u((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return u((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},N=function(e){return e.replace(I,O)},T=function(e){if(e=e.replace(/\s+/g,""),!l.test(e))throw TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,r,i,n="",s=0;s<e.length;)t=a[e.charAt(s++)]<<18|a[e.charAt(s++)]<<12|(r=a[e.charAt(s++)])<<6|(i=a[e.charAt(s++)]),n+=64===r?u(t>>16&255):64===i?u(t>>16&255,t>>8&255):u(t>>16&255,t>>8&255,255&t);return n},R="function"==typeof atob?function(e){return atob(g(e))}:r?function(e){return n.from(e,"base64").toString("binary")}:T,C=r?function(e){return c(n.from(e,"base64"))}:function(e){return c(R(e).split("").map(function(e){return e.charCodeAt(0)}))},_=function(e){return C(w(e))},L=r?function(e){return n.from(e,"base64").toString("utf8")}:i?function(e){return i.decode(C(e))}:function(e){return N(R(e))},w=function(e){return g(e.replace(/[-_]/g,function(e){return"-"==e?"+":"/"}))},D=function(e){return L(w(e))},M=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}},x=function(){var e=function(e,t){return Object.defineProperty(String.prototype,e,M(t))};e("fromBase64",function(){return D(this)}),e("toBase64",function(e){return b(this,e)}),e("toBase64URI",function(){return b(this,!0)}),e("toBase64URL",function(){return b(this,!0)}),e("toUint8Array",function(){return _(this)})},P=function(){var e=function(e,t){return Object.defineProperty(Uint8Array.prototype,e,M(t))};e("toBase64",function(e){return E(this,e)}),e("toBase64URI",function(){return E(this,!0)}),e("toBase64URL",function(){return E(this,!0)})},$={version:t,VERSION:t,atob:R,atobPolyfill:T,btoa:f,btoaPolyfill:d,fromBase64:D,toBase64:b,encode:b,encodeURI:y,encodeURL:y,utob:S,btou:N,decode:D,isValid:function(e){if("string"!=typeof e)return!1;var t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:E,toUint8Array:_,extendString:x,extendUint8Array:P,extendBuiltins:function(){x(),P()}};return $.Base64={},Object.keys($).forEach(function(e){return $.Base64[e]=$[e]}),$},e.exports=i()},21741:(e,t,r)=>{!function(){var t=r(42346),i=r(40722).utf8,n=r(73172),s=r(40722).bin,o=function(e,r){e.constructor==String?e=r&&"binary"===r.encoding?s.stringToBytes(e):i.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var a=t.bytesToWords(e),l=8*e.length,u=0x67452301,c=-0x10325477,h=-0x67452302,g=0x10325476,d=0;d<a.length;d++)a[d]=(a[d]<<8|a[d]>>>24)&0xff00ff|(a[d]<<24|a[d]>>>8)&0xff00ff00;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var f=o._ff,p=o._gg,E=o._hh,m=o._ii,d=0;d<a.length;d+=16){var v=u,S=c,A=h,b=g;u=f(u,c,h,g,a[d+0],7,-0x28955b88),g=f(g,u,c,h,a[d+1],12,-0x173848aa),h=f(h,g,u,c,a[d+2],17,0x242070db),c=f(c,h,g,u,a[d+3],22,-0x3e423112),u=f(u,c,h,g,a[d+4],7,-0xa83f051),g=f(g,u,c,h,a[d+5],12,0x4787c62a),h=f(h,g,u,c,a[d+6],17,-0x57cfb9ed),c=f(c,h,g,u,a[d+7],22,-0x2b96aff),u=f(u,c,h,g,a[d+8],7,0x698098d8),g=f(g,u,c,h,a[d+9],12,-0x74bb0851),h=f(h,g,u,c,a[d+10],17,-42063),c=f(c,h,g,u,a[d+11],22,-0x76a32842),u=f(u,c,h,g,a[d+12],7,0x6b901122),g=f(g,u,c,h,a[d+13],12,-0x2678e6d),h=f(h,g,u,c,a[d+14],17,-0x5986bc72),c=f(c,h,g,u,a[d+15],22,0x49b40821),u=p(u,c,h,g,a[d+1],5,-0x9e1da9e),g=p(g,u,c,h,a[d+6],9,-0x3fbf4cc0),h=p(h,g,u,c,a[d+11],14,0x265e5a51),c=p(c,h,g,u,a[d+0],20,-0x16493856),u=p(u,c,h,g,a[d+5],5,-0x29d0efa3),g=p(g,u,c,h,a[d+10],9,0x2441453),h=p(h,g,u,c,a[d+15],14,-0x275e197f),c=p(c,h,g,u,a[d+4],20,-0x182c0438),u=p(u,c,h,g,a[d+9],5,0x21e1cde6),g=p(g,u,c,h,a[d+14],9,-0x3cc8f82a),h=p(h,g,u,c,a[d+3],14,-0xb2af279),c=p(c,h,g,u,a[d+8],20,0x455a14ed),u=p(u,c,h,g,a[d+13],5,-0x561c16fb),g=p(g,u,c,h,a[d+2],9,-0x3105c08),h=p(h,g,u,c,a[d+7],14,0x676f02d9),c=p(c,h,g,u,a[d+12],20,-0x72d5b376),u=E(u,c,h,g,a[d+5],4,-378558),g=E(g,u,c,h,a[d+8],11,-0x788e097f),h=E(h,g,u,c,a[d+11],16,0x6d9d6122),c=E(c,h,g,u,a[d+14],23,-0x21ac7f4),u=E(u,c,h,g,a[d+1],4,-0x5b4115bc),g=E(g,u,c,h,a[d+4],11,0x4bdecfa9),h=E(h,g,u,c,a[d+7],16,-0x944b4a0),c=E(c,h,g,u,a[d+10],23,-0x41404390),u=E(u,c,h,g,a[d+13],4,0x289b7ec6),g=E(g,u,c,h,a[d+0],11,-0x155ed806),h=E(h,g,u,c,a[d+3],16,-0x2b10cf7b),c=E(c,h,g,u,a[d+6],23,0x4881d05),u=E(u,c,h,g,a[d+9],4,-0x262b2fc7),g=E(g,u,c,h,a[d+12],11,-0x1924661b),h=E(h,g,u,c,a[d+15],16,0x1fa27cf8),c=E(c,h,g,u,a[d+2],23,-0x3b53a99b),u=m(u,c,h,g,a[d+0],6,-0xbd6ddbc),g=m(g,u,c,h,a[d+7],10,0x432aff97),h=m(h,g,u,c,a[d+14],15,-0x546bdc59),c=m(c,h,g,u,a[d+5],21,-0x36c5fc7),u=m(u,c,h,g,a[d+12],6,0x655b59c3),g=m(g,u,c,h,a[d+3],10,-0x70f3336e),h=m(h,g,u,c,a[d+10],15,-1051523),c=m(c,h,g,u,a[d+1],21,-0x7a7ba22f),u=m(u,c,h,g,a[d+8],6,0x6fa87e4f),g=m(g,u,c,h,a[d+15],10,-0x1d31920),h=m(h,g,u,c,a[d+6],15,-0x5cfebcec),c=m(c,h,g,u,a[d+13],21,0x4e0811a1),u=m(u,c,h,g,a[d+4],6,-0x8ac817e),g=m(g,u,c,h,a[d+11],10,-0x42c50dcb),h=m(h,g,u,c,a[d+2],15,0x2ad7d2bb),c=m(c,h,g,u,a[d+9],21,-0x14792c6f),u=u+v>>>0,c=c+S>>>0,h=h+A>>>0,g=g+b>>>0}return t.endian([u,c,h,g])};o._ff=function(e,t,r,i,n,s,o){var a=e+(t&r|~t&i)+(n>>>0)+o;return(a<<s|a>>>32-s)+t},o._gg=function(e,t,r,i,n,s,o){var a=e+(t&i|r&~i)+(n>>>0)+o;return(a<<s|a>>>32-s)+t},o._hh=function(e,t,r,i,n,s,o){var a=e+(t^r^i)+(n>>>0)+o;return(a<<s|a>>>32-s)+t},o._ii=function(e,t,r,i,n,s,o){var a=e+(r^(t|~i))+(n>>>0)+o;return(a<<s|a>>>32-s)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,r){if(null==e)throw Error("Illegal argument "+e);var i=t.wordsToBytes(o(e,r));return r&&r.asBytes?i:r&&r.asString?s.bytesToString(i):t.bytesToHex(i)}}()},88212:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,i){var n=i&&i.stringify||t;if("object"==typeof e&&null!==e){var s=r.length+1;if(1===s)return e;var o=Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(r[a]);return o.join(" ")}if("string"!=typeof e)return e;var l=r.length;if(0===l)return e;for(var u="",c=0,h=-1,g=e&&e.length||0,d=0;d<g;){if(37===e.charCodeAt(d)&&d+1<g){switch(h=h>-1?h:0,e.charCodeAt(d+1)){case 100:case 102:if(c>=l||null==r[c])break;h<d&&(u+=e.slice(h,d)),u+=Number(r[c]),h=d+2,d++;break;case 105:if(c>=l||null==r[c])break;h<d&&(u+=e.slice(h,d)),u+=Math.floor(Number(r[c])),h=d+2,d++;break;case 79:case 111:case 106:if(c>=l||void 0===r[c])break;h<d&&(u+=e.slice(h,d));var f=typeof r[c];if("string"===f){u+="'"+r[c]+"'",h=d+2,d++;break}if("function"===f){u+=r[c].name||"<anonymous>",h=d+2,d++;break}u+=n(r[c]),h=d+2,d++;break;case 115:if(c>=l)break;h<d&&(u+=e.slice(h,d)),u+=String(r[c]),h=d+2,d++;break;case 37:h<d&&(u+=e.slice(h,d)),u+="%",h=d+2,d++,c--}++c}++d}return -1===h?e:(h<g&&(u+=e.slice(h)),u)}},9823:(e,t,r)=>{let i=Symbol("SemVer ANY");class n{static get ANY(){return i}constructor(e,t){if(t=s(t),e instanceof n){if(!!t.loose===e.loose)return e;e=e.value}u("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){let t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new c(r[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(e.value,t).test(this.value):""===e.operator?""===e.value||new h(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=n;let s=r(86744),{safeRe:o,t:a}=r(92629),l=r(24400),u=r(58847),c=r(9995),h=r(81888)},81888:(e,t,r)=>{let i=/\s+/g;class n{constructor(e,t){if(t=o(t),e instanceof n){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new n(e.raw,t)}if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(i," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!m(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&p)|(this.options.loose&&E))+":"+e,r=s.get(t);if(r)return r;let i=this.options.loose,n=i?c[h.HYPHENRANGELOOSE]:c[h.HYPHENRANGE];l("hyphen replace",e=e.replace(n,L(this.options.includePrerelease))),l("comparator trim",e=e.replace(c[h.COMPARATORTRIM],g)),l("tilde trim",e=e.replace(c[h.TILDETRIM],d)),l("caret trim",e=e.replace(c[h.CARETTRIM],f));let o=e.split(" ").map(e=>A(e,this.options)).join(" ").split(/\s+/).map(e=>_(e,this.options));i&&(o=o.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(c[h.COMPARATORLOOSE])))),l("range list",o);let u=new Map;for(let e of o.map(e=>new a(e,this.options))){if(m(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");let v=[...u.values()];return s.set(t,v),v}intersects(e,t){if(!(e instanceof n))throw TypeError("a Range is required");return this.set.some(r=>S(r,t)&&e.set.some(e=>S(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=n;let s=new(r(4345)),o=r(86744),a=r(9823),l=r(58847),u=r(9995),{safeRe:c,t:h,comparatorTrimReplace:g,tildeTrimReplace:d,caretTrimReplace:f}=r(92629),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:E}=r(83457),m=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,S=(e,t)=>{let r=!0,i=e.slice(),n=i.pop();for(;r&&i.length;)r=i.every(e=>n.intersects(e,t)),n=i.pop();return r},A=(e,t)=>(l("comp",e,t),l("caret",e=O(e,t)),l("tildes",e=y(e,t)),l("xrange",e=T(e,t)),l("stars",e=C(e,t)),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,y=(e,t)=>e.trim().split(/\s+/).map(e=>I(e,t)).join(" "),I=(e,t)=>{let r=t.loose?c[h.TILDELOOSE]:c[h.TILDE];return e.replace(r,(t,r,i,n,s)=>{let o;return l("tilde",e,t,r,i,n,s),b(r)?o="":b(i)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:b(n)?o=`>=${r}.${i}.0 <${r}.${+i+1}.0-0`:s?(l("replaceTilde pr",s),o=`>=${r}.${i}.${n}-${s} <${r}.${+i+1}.0-0`):o=`>=${r}.${i}.${n} <${r}.${+i+1}.0-0`,l("tilde return",o),o})},O=(e,t)=>e.trim().split(/\s+/).map(e=>N(e,t)).join(" "),N=(e,t)=>{l("caret",e,t);let r=t.loose?c[h.CARETLOOSE]:c[h.CARET],i=t.includePrerelease?"-0":"";return e.replace(r,(t,r,n,s,o)=>{let a;return l("caret",e,t,r,n,s,o),b(r)?a="":b(n)?a=`>=${r}.0.0${i} <${+r+1}.0.0-0`:b(s)?a="0"===r?`>=${r}.${n}.0${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.0${i} <${+r+1}.0.0-0`:o?(l("replaceCaret pr",o),a="0"===r?"0"===n?`>=${r}.${n}.${s}-${o} <${r}.${n}.${+s+1}-0`:`>=${r}.${n}.${s}-${o} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${s}-${o} <${+r+1}.0.0-0`):(l("no pr"),a="0"===r?"0"===n?`>=${r}.${n}.${s}${i} <${r}.${n}.${+s+1}-0`:`>=${r}.${n}.${s}${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${s} <${+r+1}.0.0-0`),l("caret return",a),a})},T=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>R(e,t)).join(" ")),R=(e,t)=>{e=e.trim();let r=t.loose?c[h.XRANGELOOSE]:c[h.XRANGE];return e.replace(r,(r,i,n,s,o,a)=>{l("xRange",e,r,i,n,s,o,a);let u=b(n),c=u||b(s),h=c||b(o);return"="===i&&h&&(i=""),a=t.includePrerelease?"-0":"",u?r=">"===i||"<"===i?"<0.0.0-0":"*":i&&h?(c&&(s=0),o=0,">"===i?(i=">=",c?(n=+n+1,s=0):s=+s+1,o=0):"<="===i&&(i="<",c?n=+n+1:s=+s+1),"<"===i&&(a="-0"),r=`${i+n}.${s}.${o}${a}`):c?r=`>=${n}.0.0${a} <${+n+1}.0.0-0`:h&&(r=`>=${n}.${s}.0${a} <${n}.${+s+1}.0-0`),l("xRange return",r),r})},C=(e,t)=>(l("replaceStars",e,t),e.trim().replace(c[h.STAR],"")),_=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?h.GTE0PRE:h.GTE0],"")),L=e=>(t,r,i,n,s,o,a,l,u,c,h,g)=>(r=b(i)?"":b(n)?`>=${i}.0.0${e?"-0":""}`:b(s)?`>=${i}.${n}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`,l=b(u)?"":b(c)?`<${+u+1}.0.0-0`:b(h)?`<${u}.${+c+1}.0-0`:g?`<=${u}.${c}.${h}-${g}`:e?`<${u}.${c}.${+h+1}-0`:`<=${l}`,`${r} ${l}`.trim()),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(l(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){let i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},9995:(e,t,r)=>{let i=r(58847),{MAX_LENGTH:n,MAX_SAFE_INTEGER:s}=r(83457),{safeRe:o,t:a}=r(92629),l=r(86744),{compareIdentifiers:u}=r(84504);class c{constructor(e,t){if(t=l(t),e instanceof c){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>n)throw TypeError(`version is longer than ${n} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<s)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],n=e.prerelease[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return -1;if(r===n)continue;else return u(r,n)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{let r=this.build[t],n=e.build[t];if(i("build compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return -1;if(r===n)continue;else return u(r,n)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(r)?1:0;if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===r&&(i=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=c},71973:(e,t,r)=>{let i=r(55487);e.exports=(e,t)=>{let r=i(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},24400:(e,t,r)=>{let i=r(82650),n=r(68536),s=r(11411),o=r(27082),a=r(13396),l=r(64407);e.exports=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return i(e,r,u);case"!=":return n(e,r,u);case">":return s(e,r,u);case">=":return o(e,r,u);case"<":return a(e,r,u);case"<=":return l(e,r,u);default:throw TypeError(`Invalid operator: ${t}`)}}},38965:(e,t,r)=>{let i=r(9995),n=r(55487),{safeRe:s,t:o}=r(92629);e.exports=(e,t)=>{if(e instanceof i)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let i;let n=t.includePrerelease?s[o.COERCERTLFULL]:s[o.COERCERTL];for(;(i=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&i.index+i[0].length===r.index+r[0].length||(r=i),n.lastIndex=i.index+i[1].length+i[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?s[o.COERCEFULL]:s[o.COERCE]);if(null===r)return null;let a=r[2],l=r[3]||"0",u=r[4]||"0",c=t.includePrerelease&&r[5]?`-${r[5]}`:"",h=t.includePrerelease&&r[6]?`+${r[6]}`:"";return n(`${a}.${l}.${u}${c}${h}`,t)}},63386:(e,t,r)=>{let i=r(9995);e.exports=(e,t,r)=>{let n=new i(e,r),s=new i(t,r);return n.compare(s)||n.compareBuild(s)}},71200:(e,t,r)=>{let i=r(34507);e.exports=(e,t)=>i(e,t,!0)},34507:(e,t,r)=>{let i=r(9995);e.exports=(e,t,r)=>new i(e,r).compare(new i(t,r))},76299:(e,t,r)=>{let i=r(55487);e.exports=(e,t)=>{let r=i(e,null,!0),n=i(t,null,!0),s=r.compare(n);if(0===s)return null;let o=s>0,a=o?r:n,l=o?n:r,u=!!a.prerelease.length;if(l.prerelease.length&&!u)return l.patch||l.minor?a.patch?"patch":a.minor?"minor":"major":"major";let c=u?"pre":"";return r.major!==n.major?c+"major":r.minor!==n.minor?c+"minor":r.patch!==n.patch?c+"patch":"prerelease"}},82650:(e,t,r)=>{let i=r(34507);e.exports=(e,t,r)=>0===i(e,t,r)},11411:(e,t,r)=>{let i=r(34507);e.exports=(e,t,r)=>i(e,t,r)>0},27082:(e,t,r)=>{let i=r(34507);e.exports=(e,t,r)=>i(e,t,r)>=0},99204:(e,t,r)=>{let i=r(9995);e.exports=(e,t,r,n,s)=>{"string"==typeof r&&(s=n,n=r,r=void 0);try{return new i(e instanceof i?e.version:e,r).inc(t,n,s).version}catch(e){return null}}},13396:(e,t,r)=>{let i=r(34507);e.exports=(e,t,r)=>0>i(e,t,r)},64407:(e,t,r)=>{let i=r(34507);e.exports=(e,t,r)=>0>=i(e,t,r)},56749:(e,t,r)=>{let i=r(9995);e.exports=(e,t)=>new i(e,t).major},1529:(e,t,r)=>{let i=r(9995);e.exports=(e,t)=>new i(e,t).minor},68536:(e,t,r)=>{let i=r(34507);e.exports=(e,t,r)=>0!==i(e,t,r)},55487:(e,t,r)=>{let i=r(9995);e.exports=(e,t,r=!1)=>{if(e instanceof i)return e;try{return new i(e,t)}catch(e){if(!r)return null;throw e}}},49598:(e,t,r)=>{let i=r(9995);e.exports=(e,t)=>new i(e,t).patch},7582:(e,t,r)=>{let i=r(55487);e.exports=(e,t)=>{let r=i(e,t);return r&&r.prerelease.length?r.prerelease:null}},14373:(e,t,r)=>{let i=r(34507);e.exports=(e,t,r)=>i(t,e,r)},45450:(e,t,r)=>{let i=r(63386);e.exports=(e,t)=>e.sort((e,r)=>i(r,e,t))},89445:(e,t,r)=>{let i=r(81888);e.exports=(e,t,r)=>{try{t=new i(t,r)}catch(e){return!1}return t.test(e)}},28348:(e,t,r)=>{let i=r(63386);e.exports=(e,t)=>e.sort((e,r)=>i(e,r,t))},9266:(e,t,r)=>{let i=r(55487);e.exports=(e,t)=>{let r=i(e,t);return r?r.version:null}},57426:(e,t,r)=>{let i=r(92629),n=r(83457),s=r(9995),o=r(84504),a=r(55487),l=r(9266),u=r(71973),c=r(99204),h=r(76299),g=r(56749),d=r(1529),f=r(49598),p=r(7582),E=r(34507),m=r(14373),v=r(71200),S=r(63386),A=r(28348),b=r(45450),y=r(11411),I=r(13396),O=r(82650),N=r(68536),T=r(27082),R=r(64407),C=r(24400),_=r(38965),L=r(9823),w=r(81888),D=r(89445),M=r(40384),x=r(92583),P=r(1629),$=r(72390),F=r(84345),U=r(64692),j=r(51020),B=r(65845),G=r(96719),V=r(76210),k=r(73459);e.exports={parse:a,valid:l,clean:u,inc:c,diff:h,major:g,minor:d,patch:f,prerelease:p,compare:E,rcompare:m,compareLoose:v,compareBuild:S,sort:A,rsort:b,gt:y,lt:I,eq:O,neq:N,gte:T,lte:R,cmp:C,coerce:_,Comparator:L,Range:w,satisfies:D,toComparators:M,maxSatisfying:x,minSatisfying:P,minVersion:$,validRange:F,outside:U,gtr:j,ltr:B,intersects:G,simplifyRange:V,subset:k,SemVer:s,re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},83457:e=>{let t=Number.MAX_SAFE_INTEGER||0x1fffffffffffff;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},58847:(e,t,r)=>{var i=r(37811);let n="object"==typeof i&&i.env&&i.env.NODE_DEBUG&&/\bsemver\b/i.test(i.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n},84504:e=>{let t=/^[0-9]+$/,r=(e,r)=>{let i=t.test(e),n=t.test(r);return i&&n&&(e=+e,r=+r),e===r?0:i&&!n?-1:n&&!i?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},4345:e=>{class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},86744:e=>{let t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},92629:(e,t,r)=>{let{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=r(83457),o=r(58847),a=(t=e.exports={}).re=[],l=t.safeRe=[],u=t.src=[],c=t.t={},h=0,g="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",s],[g,n]],f=e=>{for(let[t,r]of d)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},p=(e,t,r)=>{let i=f(t),n=h++;o(e,n,t),c[e]=n,u[n]=t,a[n]=new RegExp(t,r?"g":void 0),l[n]=new RegExp(i,r?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),p("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${g}+`),p("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),p("FULL",`^${u[c.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),p("LOOSE",`^${u[c.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),p("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),p("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?`+`(?:${u[c.BUILD]})?`+"(?:$|[^\\d])"),p("COERCERTL",u[c.COERCE],!0),p("COERCERTLFULL",u[c.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},51020:(e,t,r)=>{let i=r(64692);e.exports=(e,t,r)=>i(e,t,">",r)},96719:(e,t,r)=>{let i=r(81888);e.exports=(e,t,r)=>(e=new i(e,r),t=new i(t,r),e.intersects(t,r))},65845:(e,t,r)=>{let i=r(64692);e.exports=(e,t,r)=>i(e,t,"<",r)},92583:(e,t,r)=>{let i=r(9995),n=r(81888);e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new n(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!s||-1===o.compare(e))&&(o=new i(s=e,r))}),s}},1629:(e,t,r)=>{let i=r(9995),n=r(81888);e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new n(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!s||1===o.compare(e))&&(o=new i(s=e,r))}),s}},72390:(e,t,r)=>{let i=r(9995),n=r(81888),s=r(11411);e.exports=(e,t)=>{e=new n(e,t);let r=new i("0.0.0");if(e.test(r)||(r=new i("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let n=e.set[t],o=null;n.forEach(e=>{let t=new i(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!o||s(t,o))&&(o=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),o&&(!r||s(r,o))&&(r=o)}return r&&e.test(r)?r:null}},64692:(e,t,r)=>{let i=r(9995),n=r(9823),{ANY:s}=n,o=r(81888),a=r(89445),l=r(11411),u=r(13396),c=r(64407),h=r(27082);e.exports=(e,t,r,g)=>{let d,f,p,E,m;switch(e=new i(e,g),t=new o(t,g),r){case">":d=l,f=c,p=u,E=">",m=">=";break;case"<":d=u,f=h,p=l,E="<",m="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,g))return!1;for(let r=0;r<t.set.length;++r){let i=t.set[r],o=null,a=null;if(i.forEach(e=>{e.semver===s&&(e=new n(">=0.0.0")),o=o||e,a=a||e,d(e.semver,o.semver,g)?o=e:p(e.semver,a.semver,g)&&(a=e)}),o.operator===E||o.operator===m||(!a.operator||a.operator===E)&&f(e,a.semver)||a.operator===m&&p(e,a.semver))return!1}return!0}},76210:(e,t,r)=>{let i=r(89445),n=r(34507);e.exports=(e,t,r)=>{let s=[],o=null,a=null,l=e.sort((e,t)=>n(e,t,r));for(let e of l)i(e,t,r)?(a=e,o||(o=e)):(a&&s.push([o,a]),a=null,o=null);o&&s.push([o,null]);let u=[];for(let[e,t]of s)e===t?u.push(e):t||e!==l[0]?t?e===l[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");let c=u.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return c.length<h.length?c:t}},73459:(e,t,r)=>{let i=r(81888),n=r(9823),{ANY:s}=n,o=r(89445),a=r(34507),l=[new n(">=0.0.0-0")],u=[new n(">=0.0.0")],c=(e,t,r)=>{let i,n,c,d,f,p,E;if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?l:u}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=u}let m=new Set;for(let t of e)">"===t.operator||">="===t.operator?i=h(i,t,r):"<"===t.operator||"<="===t.operator?n=g(n,t,r):m.add(t.semver);if(m.size>1||i&&n&&((c=a(i.semver,n.semver,r))>0||0===c&&(">="!==i.operator||"<="!==n.operator)))return null;for(let e of m){if(i&&!o(e,String(i),r)||n&&!o(e,String(n),r))return null;for(let i of t)if(!o(e,String(i),r))return!1;return!0}let v=!!n&&!r.includePrerelease&&!!n.semver.prerelease.length&&n.semver,S=!!i&&!r.includePrerelease&&!!i.semver.prerelease.length&&i.semver;for(let e of(v&&1===v.prerelease.length&&"<"===n.operator&&0===v.prerelease[0]&&(v=!1),t)){if(E=E||">"===e.operator||">="===e.operator,p=p||"<"===e.operator||"<="===e.operator,i){if(S&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===S.major&&e.semver.minor===S.minor&&e.semver.patch===S.patch&&(S=!1),">"===e.operator||">="===e.operator){if((d=h(i,e,r))===e&&d!==i)return!1}else if(">="===i.operator&&!o(i.semver,String(e),r))return!1}if(n){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if((f=g(n,e,r))===e&&f!==n)return!1}else if("<="===n.operator&&!o(n.semver,String(e),r))return!1}if(!e.operator&&(n||i)&&0!==c)return!1}return(!i||!p||!!n||0===c)&&(!n||!E||!!i||0===c)&&!S&&!v},h=(e,t,r)=>{if(!e)return t;let i=a(e.semver,t.semver,r);return i>0?e:i<0?t:">"===t.operator&&">="===e.operator?t:e},g=(e,t,r)=>{if(!e)return t;let i=a(e.semver,t.semver,r);return i<0?e:i>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new i(e,r),t=new i(t,r);let n=!1;e:for(let i of e.set){for(let e of t.set){let t=c(i,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0}},40384:(e,t,r)=>{let i=r(81888);e.exports=(e,t)=>new i(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},84345:(e,t,r)=>{let i=r(81888);e.exports=(e,t)=>{try{return new i(e,t).range||"*"}catch(e){return null}}},80807:(e,t,r)=>{"use strict";let i=r(88212);e.exports=c;let n=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function s(e,t){return"silent"===e?1/0:t.levels.values[e]}let o=Symbol("pino.logFuncs"),a=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function u(e,t){let r={logger:t,parent:e[a]};t[a]=r}function c(e){var t,r;(e=e||{}).browser=e.browser||{};let i=e.browser.transmit;if(i&&"function"!=typeof i.send)throw Error("pino: transmit option must have a send function");let a=e.browser.write||n;e.browser.write&&(e.browser.asObject=!0);let f=e.serializers||{},p=Array.isArray(t=e.browser.serialize)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(f),E=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(E=!1);let A=Object.keys(e.customLevels||{}),b=["error","fatal","warn","info","debug","trace"].concat(A);"function"==typeof a&&b.forEach(function(e){a[e]=a}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");let y=e.level||"info",I=Object.create(a);I.log||(I.log=m),function(e,t,r){let i={};t.forEach(e=>{i[e]=r[e]?r[e]:n[e]||n[l[e]||"log"]||m}),e[o]=i}(I,b,a),u({},I),Object.defineProperty(I,"levelVal",{get:function(){return s(this.level,this)}}),Object.defineProperty(I,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,h(this,O,I,"error"),h(this,O,I,"fatal"),h(this,O,I,"warn"),h(this,O,I,"info"),h(this,O,I,"debug"),h(this,O,I,"trace"),A.forEach(e=>{h(this,O,I,e)})}});let O={transmit:i,serialize:p,asObject:e.browser.asObject,formatters:e.browser.formatters,levels:b,timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?v:S};return I.levels=function(e){let t=e.customLevels||{};return{values:Object.assign({},c.levels.values,t),labels:Object.assign({},c.levels.labels,function(e){let t={};return Object.keys(e).forEach(function(r){t[e[r]]=r}),t}(t))}}(e),I.level=y,I.setMaxListeners=I.getMaxListeners=I.emit=I.addListener=I.on=I.prependListener=I.once=I.prependOnceListener=I.removeListener=I.removeAllListeners=I.listeners=I.listenerCount=I.eventNames=I.write=I.flush=m,I.serializers=f,I._serialize=p,I._stdErrSerialize=E,I.child=function(t,r){if(!t)throw Error("missing bindings for child Pino");r=r||{},p&&t.serializers&&(r.serializers=t.serializers);let n=r.serializers;if(p&&n){var s=Object.assign({},f,n),o=!0===e.browser.serialize?Object.keys(s):p;delete t.serializers,g([t],o,s,this._stdErrSerialize)}function a(e){this._childLevel=(0|e._childLevel)+1,this.bindings=t,s&&(this.serializers=s,this._serialize=o),i&&(this._logEvent=d([].concat(e._logEvent.bindings,t)))}a.prototype=this;let l=new a(this);return u(this,l),l.level=this.level,l},i&&(I._logEvent=d()),I}function h(e,t,r,l){var u,c;if(Object.defineProperty(e,l,{value:s(e.level,r)>s(l,r)?m:r[o][l],writable:!0,enumerable:!0,configurable:!0}),!t.transmit&&e[l]===m)return;e[l]=(u=e[o][l],function(){let o=t.timestamp(),a=Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===n?n:this;for(var h=0;h<a.length;h++)a[h]=arguments[h];if(t.serialize&&!t.asObject&&g(a,this._serialize,this.serializers,this._stdErrSerialize),t.asObject||t.formatters?u.call(c,function(e,t,r,n,s={}){let{level:o=()=>e.levels.values[t],log:a=e=>e}=s;e._serialize&&g(r,e._serialize,e.serializers,e._stdErrSerialize);let l=r.slice(),u=l[0],c={};n&&(c.time=n),c.level=o(t,e.levels.values[t]);let h=(0|e._childLevel)+1;if(h<1&&(h=1),null!==u&&"object"==typeof u){for(;h--&&"object"==typeof l[0];)Object.assign(c,l.shift());u=l.length?i(l.shift(),l):void 0}else"string"==typeof u&&(u=i(l.shift(),l));return void 0!==u&&(c.msg=u),a(c)}(this,l,a,o,t.formatters)):u.apply(c,a),t.transmit){let i=t.transmit.level||e._level,n=r.levels.values[i],u=r.levels.values[l];if(u<n)return;(function(e,t,r){let i=t.send,n=t.ts,s=t.methodLevel,o=t.methodValue,a=t.val,l=e._logEvent.bindings;g(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=n,e._logEvent.messages=r.filter(function(e){return -1===l.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=o,i(s,e._logEvent,a),e._logEvent=d(l)})(this,{ts:o,methodLevel:l,methodValue:u,transmitLevel:i,transmitValue:r.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:s(e._level,r)},a)}});let h=function(e){let t=[];e.bindings&&t.push(e.bindings);let r=e[a];for(;r.parent;)(r=r.parent).logger.bindings&&t.push(r.logger.bindings);return t.reverse()}(e);0!==h.length&&(e[l]=(c=e[l],function(){return c.apply(this,[...h,...arguments])}))}function g(e,t,r,i){for(let n in e)if(i&&e[n]instanceof Error)e[n]=c.stdSerializers.err(e[n]);else if("object"==typeof e[n]&&!Array.isArray(e[n]))for(let i in e[n])t&&t.indexOf(i)>-1&&i in r&&(e[n][i]=r[i](e[n][i]))}function d(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function f(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}function p(){return{}}function E(e){return e}function m(){}function v(){return!1}function S(){return Date.now()}c.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},c.stdSerializers={mapHttpRequest:p,mapHttpResponse:p,wrapRequestSerializer:E,wrapResponseSerializer:E,wrapErrorSerializer:E,req:p,res:p,err:f,errWithCause:f},c.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:S,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=c,e.exports.pino=c},36544:(e,t,r)=>{"use strict";r.d(t,{y9:()=>i});let i={MODE_TYPE_UNSPECIFIED:"MODE_TYPE_UNSPECIFIED",CONCISE:"CONCISE",COPILOT:"COPILOT",ARTICLE:"ARTICLE",UNRECOGNIZED:"UNRECOGNIZED"}},92271:(e,t,r)=>{"use strict";r.d(t,{B3:()=>s,FK:()=>o,ZU:()=>a,nW:()=>i,uB:()=>l,uI:()=>u,wm:()=>n});let i={STATUS_UNSPECIFIED:"STATUS_UNSPECIFIED",PENDING:"PENDING",COMPLETED:"COMPLETED",FAILED:"FAILED",STAGED:"STAGED",REWRITING:"REWRITING",UNRECOGNIZED:"UNRECOGNIZED"},n={BOOKMARK_STATE_UNSPECIFIED:"BOOKMARK_STATE_UNSPECIFIED",UNKNOWN:"UNKNOWN",BOOKMARKED:"BOOKMARKED",NOT_BOOKMARKED:"NOT_BOOKMARKED",UNRECOGNIZED:"UNRECOGNIZED"},s={MESSAGE_MODE_UNSPECIFIED:"MESSAGE_MODE_UNSPECIFIED",FULL:"FULL",STREAMING:"STREAMING",UNRECOGNIZED:"UNRECOGNIZED"},o={BLOCK_PROGRESS_UNSPECIFIED:"BLOCK_PROGRESS_UNSPECIFIED",IN_PROGRESS:"IN_PROGRESS",DONE:"DONE",RESET:"RESET",DELETED:"DELETED",UNRECOGNIZED:"UNRECOGNIZED"},a={RELATED_QUERY_TYPE_UNSPECIFIED:"RELATED_QUERY_TYPE_UNSPECIFIED",DEFAULT:"DEFAULT",SPONSORED:"SPONSORED",UNRECOGNIZED:"UNRECOGNIZED"},l={INTENT_TIER_UNSPECIFIED:"INTENT_TIER_UNSPECIFIED",LOW:"LOW",MEDIUM:"MEDIUM",HIGH:"HIGH",UNRECOGNIZED:"UNRECOGNIZED"},u={ANSWER_MODE_TYPE_UNSPECIFIED:"ANSWER_MODE_TYPE_UNSPECIFIED",HOTELS:"HOTELS",SHOPPING:"SHOPPING",JOBS:"JOBS",IMAGE:"IMAGE",VIDEO:"VIDEO",UNRECOGNIZED:"UNRECOGNIZED"}},4253:(e,t,r)=>{"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{_:()=>i})},31035:(e,t,r)=>{"use strict";function i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}r.d(t,{A:()=>n});let n=function e(t,r){function n(e,n,s){if("undefined"!=typeof document){"number"==typeof(s=i({},r,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in s)s[a]&&(o+="; "+a,!0!==s[a]&&(o+="="+s[a].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+o}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],i={},n=0;n<r.length;n++){var s=r[n].split("="),o=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(i[a]=t.read(o,a),e===a)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){n(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},49099:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=function(){}},8482:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});let i=()=>({emit(e,...t){for(let r=this.events[e]||[],i=0,n=r.length;i<n;i++)r[i](...t)},events:{},on(e,t){return(this.events[e]||=[]).push(t),()=>{this.events[e]=this.events[e]?.filter(e=>t!==e)}}})},48958:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});let i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var n=r(85874),s=r(47274);let o=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();let o=(e=e||{}).random??e.rng?.()??(0,n.A)();if(o.length<16)throw Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=o[e];return t}return(0,s.k)(o)}},17260:e=>{"use strict";e.exports=JSON.parse('{"name":"@eppo/js-client-sdk-common","version":"4.0.0","description":"Eppo SDK for client-side JavaScript applications (base for both web and react native)","main":"dist/index.js","files":["/dist","/src","!*.spec.ts"],"types":"./dist/index.d.ts","engines":{"node":">=18.x"},"exports":{".":{"types":"./dist/index.d.ts","default":"./dist/index.js"}},"scripts":{"lint":"eslint \'**/*.{ts,tsx}\' --cache","lint:fix":"eslint --fix \'**/*.{ts,tsx}\' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix \'**/*.{ts,tsx}\' --no-eslintrc --cache","prepare":"make prepare","pre-commit":"lint-staged && tsc","typecheck":"tsc","test":"yarn test:unit","test:unit":"NODE_ENV=test jest \'.*\\\\.spec\\\\.ts\'","obfuscate-mock-ufc":"ts-node test/writeObfuscatedMockUFC"},"jsdelivr":"dist/eppo-sdk.js","repository":{"type":"git","url":"git+https://github.com/Eppo-exp/js-client-sdk-common.git"},"author":"","license":"MIT","bugs":{"url":"https://github.com/Eppo-exp/js-client-sdk-common/issues"},"homepage":"https://github.com/Eppo-exp/js-client-sdk-common#readme","devDependencies":{"@types/jest":"^29.5.11","@types/js-base64":"^3.3.1","@types/lodash":"^4.17.5","@types/md5":"^2.3.2","@types/semver":"^7.5.6","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0","eslint":"^8.17.0","eslint-config-prettier":"^8.5.0","eslint-import-resolver-typescript":"^2.5.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"^4.0.0","eslint-plugin-promise":"^6.0.0","jest":"^29.7.0","jest-environment-jsdom":"^29.7.0","lodash":"^4.17.21","prettier":"^2.7.1","terser-webpack-plugin":"^5.3.3","testdouble":"^3.20.1","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.1","typescript":"^4.7.4","webpack":"^5.73.0","webpack-cli":"^4.10.0"},"dependencies":{"js-base64":"^3.7.7","md5":"^2.3.0","pino":"^8.19.0","semver":"^7.5.4"}}')},22293:e=>{"use strict";e.exports=JSON.parse('{"name":"@eppo/js-client-sdk","version":"3.4.0","description":"Eppo SDK for client-side JavaScript applications","main":"dist/index.js","files":["/dist","/src","!*.spec.ts"],"types":"dist/index.d.ts","scripts":{"lint":"eslint \'**/*.{ts,tsx}\' \'**/*.d.{ts,tsx}\' --cache","lint:fix":"eslint --fix \'**/*.{ts,tsx}\' --cache","lint:fix-pre-commit":"eslint -c .eslintrc.pre-commit.js --fix \'**/*.{ts,tsx}\' --no-eslintrc --cache","prepare":"make prepare","pre-commit":"lint-staged && tsc && yarn docs","typecheck":"tsc","test":"yarn test:unit","test:unit":"NODE_ENV=test jest \'.*\\\\.spec\\\\.ts\'","docs":"api-documenter markdown -i ./temp -o ./docs"},"jsdelivr":"dist/eppo-sdk.js","repository":{"type":"git","url":"git+https://github.com/Eppo-exp/js-client-sdk.git"},"author":"","license":"MIT","bugs":{"url":"https://github.com/Eppo-exp/js-client-sdk/issues"},"homepage":"https://github.com/Eppo-exp/js-client-sdk#readme","devDependencies":{"@microsoft/api-documenter":"^7.23.9","@microsoft/api-extractor":"^7.38.0","@types/chrome":"^0.0.268","@types/jest":"^29.5.11","@typescript-eslint/eslint-plugin":"^5.13.0","@typescript-eslint/parser":"^5.13.0","eslint":"^8.17.0","eslint-config-prettier":"^8.5.0","eslint-import-resolver-typescript":"^2.5.0","eslint-plugin-import":"^2.25.4","eslint-plugin-prettier":"^4.0.0","eslint-plugin-promise":"^6.0.0","husky":"^8.0.1","jest":"^29.7.0","jest-environment-jsdom":"^29.7.0","lint-staged":"^12.3.5","prettier":"^2.7.1","terser-webpack-plugin":"^5.3.3","testdouble":"^3.16.6","ts-jest":"^29.1.1","ts-loader":"^9.3.1","ts-node":"^10.9.2","typescript":"^4.7.4","webpack":"^5.73.0","webpack-cli":"^4.10.0"},"dependencies":{"@eppo/js-client-sdk-common":"4.0.0"}}')}}]);
//# sourceMappingURL=95680-f1cb891573285c0f.js.map