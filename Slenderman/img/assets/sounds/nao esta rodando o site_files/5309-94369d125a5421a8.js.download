"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5309],{80911:(e,t,r)=>{r.d(t,{Av:()=>T,gX:()=>f,fw:()=>v,yA:()=>E,n6:()=>m,U7:()=>y,xT:()=>S,jh:()=>g,gy:()=>h,rK:()=>w});var n=r(91196),o=r(54815);let i=o.z.object({title:o.z.string(),description:o.z.string(),image_light:o.z.string(),image_dark:o.z.string(),accent_color_dark:o.z.string(),accent_color_light:o.z.string(),url_template:o.z.string()}),a=o.z.object({id:o.z.string(),start_datetime:o.z.string().nullable(),end_datetime:o.z.string().nullable(),app_banner:i.nullable()}),l=o.z.object({id:o.z.string(),start_datetime:o.z.string().nullable(),end_datetime:o.z.string().nullable(),revenuecat_id:o.z.string().nullable(),style_id:o.z.string().nullable(),discount_str:o.z.string().nullable(),discount_type:o.z.string().nullable()}),s=o.z.object({name:o.z.string(),site:o.z.string(),campaign:o.z.string().nullable(),focusable:o.z.boolean()}),c=o.z.object({campaign:a.nullable(),offer:l.nullable(),institution:s.nullable()}),u=e=>{let t=c.safeParse(e);return t.success?t.data:(n.v.error("Failed to parse user promotions data",t.error),{campaign:null,offer:null,institution:null})};var d=r(29838),p=r(41418),_=r(63911);let h=async()=>{let e="getUserPromotions";try{let t=await (0,_.Ao)({urlPath:"/rest/user/promotions",method:"GET",headers:{"content-type":"application/json"},timeoutMs:(0,_.e4)({productionMs:2e3})}),r=await t.json(),n=u(r);return(0,_.Gd)(e),n}catch(t){return(0,_.SO)(e,t),{campaign:null,offer:null,institution:null}}},g=async(e,t)=>{let r="getCustomerPortal",n="";e&&(n="?locale=".concat(e));try{let e=await (0,_.Ao)({urlPath:"/rest/billing/get-customer-portal".concat(n),method:"GET",headers:t,timeoutMs:3e3}),o=await e.json();if("success"!==o.status||null===o.url||""===o.url)return(0,_.Nh)(r,!1),null;return(0,_.Gd)(r),o.url}catch(e){return(0,_.SO)(r,e),null}},v=async e=>{let t="createCheckoutSession",r=(0,p.E)(),n=(0,d.cH)(),o={"content-type":"application/json",...r?{"Screen-Dimensions":r}:{}};try{let r=await (0,_.Ao)({urlPath:"/rest/stripe/checkout-session",method:"POST",body:JSON.stringify({referral_code:e.referralCode,discount_code:e.discountCode,origin:e.origin,tier:e.tier,locale:e.locale,visitor_id:n,embedded:e.embedded}),timeoutMs:5e3,headers:o}),i=await r.json();return(0,_.Gd)(t),{subscriptionStatus:i.subscription_status,status:i.status,url:i.url,clientSecret:i.client_secret}}catch(e){(0,_.SO)(t,e);return}},E=async(e,t)=>{let r="createSetupIntent";try{let n=await (0,_.Ao)({urlPath:"/rest/stripe/create-setup-intent",method:"POST",body:JSON.stringify({is_updating:e.isUpdating}),timeoutMs:(0,_.e4)({productionMs:2500}),headers:{...t,"content-type":"application/json"}}),o=await n.json();return(0,_.Gd)(r),{clientSecret:o.client_secret}}catch(e){(0,_.SO)(r,e);return}},m=async e=>{let t="createSetupIntentAndCustomerSession";try{let r=await (0,_.Ao)({urlPath:"/rest/stripe/create-setup-intent-and-customer-session",method:"POST",timeoutMs:(0,_.e4)({productionMs:3e3}),headers:{...e,"content-type":"application/json"}}),n=await r.json();return(0,_.Gd)(t),{clientSecret:n.client_secret,customerSessionClientSecret:n.customer_session_client_secret}}catch(e){(0,_.SO)(t,e);return}},y=async(e,t)=>{let r="getCouponMetadata";try{let n=await (0,_.Ao)({method:"GET",headers:t,urlPath:"/rest/billing/get-coupon-metadata?discount_code=".concat(e)}),o=await n.json();if("success"!==o.status)return(0,_.Nh)(r,!1),null;return(0,_.Gd)(r),o}catch(e){return(0,_.SO)(r,e),null}},f=async()=>{let e="createBillingCustomer";try{let t=await (0,_.Ao)({urlPath:"/rest/pplx-api/create-billing-customer",method:"POST",timeoutMs:9e3,headers:{"content-type":"application/json"}}),r=await t.json();return(0,_.Gd)(e),r}catch(t){throw n.v.log("Error in ".concat(e,":"),t),(0,_.SO)(e,t),t}},S=async()=>{let e="getCustomerInfo";try{let t=await (0,_.Ao)({urlPath:"/rest/pplx-api/get-customer-info",method:"GET",headers:{"content-type":"application/json"},timeoutMs:1e4,numRetries:1}),r=await t.json();return(0,_.Gd)(e),r}catch(t){throw n.v.log("Error in ".concat(e,":"),t),(0,_.SO)(e,t),t}},w=async e=>{let t="topupCustomerBalance";try{let r=await (0,_.Ao)({urlPath:"/rest/pplx-api/topup-customer-balance",method:"POST",timeoutMs:5e3,headers:{"content-type":"application/json"},body:JSON.stringify({credits:e})}),n=await r.json();return(0,_.Gd)(t),n}catch(e){throw n.v.log("Error in ".concat(t,":"),e),(0,_.SO)(t,e),e}},T=async e=>{let t="autoTopupCustomerBalance";try{let r=await (0,_.Ao)({urlPath:"/rest/pplx-api/auto-topup-customer-balance",method:"POST",timeoutMs:5e3,headers:{"content-type":"application/json"},body:JSON.stringify({amount:e})}),n=await r.json();return(0,_.Gd)(t),n}catch(e){throw n.v.log("Error in ".concat(t,":"),e),(0,_.SO)(t,e),e}}},14839:(e,t,r)=>{r.d(t,{LM:()=>p,Lr:()=>c,UL:()=>d,YK:()=>v,_E:()=>g,e3:()=>u,i8:()=>_});var n=r(72115),o=r(91196),i=r(29838),a=r(41418),l=r(63911),s=r(37811);let c=async()=>{let e="getPreviousOrgSubscription";try{let t=await (0,l.Ao)({urlPath:"/rest/enterprise/previous-subscription",timeoutMs:(0,l.e4)({productionMs:2e3})}),r=await t.json();return(0,l.Gd)(e),r}catch(t){return o.v.log("Error in ".concat(e,":"),t),(0,l.SO)(e,t),null}},u=async(e,t,r)=>{let n="getEnterpriseCustomerPortal";try{let o=await (0,l.Ao)({urlPath:"/rest/enterprise/customer-portal",method:"POST",body:JSON.stringify({origin:e,locale:t}),timeoutMs:7500,headers:{"Content-Type":"application/json",...r}}),i=await o.json();if("success"!==i.status)return(0,l.Nh)(n,!1),null;return(0,l.Gd)(n),i.url}catch(e){return(0,l.SO)(n,e),null}},d=async(e,t,r)=>{let n="getEnterpriseCheckoutSession",o=(0,a.E)(),s=(0,i.cH)();try{let i=await (0,l.Ao)({urlPath:"/rest/enterprise/checkout-session",method:"POST",body:JSON.stringify({referral_code:null,discount_code:null,origin:t,tier:e,locale:r,visitor_id:s}),timeoutMs:3500,headers:{"Content-Type":"application/json",...o?{"Screen-Dimensions":o}:{}}}),a=await i.json();return(0,l.Gd)(n),a}catch(e){(0,l.SO)(n,e);return}},p=async e=>{let t="getUserOrganization",r={organization:null,orgUser:null,isEnterprise:!1};try{var n,i,a,s;let c=await (0,l.Ao)({method:"GET",headers:e,urlPath:"/rest/enterprise/user/organization",timeoutMs:(0,l.e4)({productionMs:2e3}),numRetries:1}),u=await c.json();if("success"!==u.status){o.v.log("Unsuccessful ".concat(t," call:"),u);let e={error_code:null!==(n=null==u?void 0:u.error_code)&&void 0!==n?n:"unknown_error"};return(0,l.Nh)(t,!1,e),r}return(0,l.Gd)(t),{organization:null!==(i=null==u?void 0:u.organization)&&void 0!==i?i:null,orgUser:null!==(a=null==u?void 0:u.org_user)&&void 0!==a?a:null,isEnterprise:null!==(s=null==u?void 0:u.is_in_organization)&&void 0!==s&&s}}catch(e){return o.v.log("Error in ".concat(t,":"),e),(0,l.SO)(t,e),r}},_=async(e,t,r)=>{if(!e)throw Error("No email");let n=e.split("@"),o=n.length>=2?n[n.length-1]:null;if(!o)throw Error("No domain extracted from ".concat(e));return h(o,t,r)},h=async(e,t,r)=>{let i="getOrganizationFromDomain";try{var a,c;let u;if(r){let r=s.env.PPL_NEXTAUTH_SERVER_URL;u=await (0,n.a9)({headers:t,urlPath:"/rest/nextauth/organization/domain/".concat(e),timeoutMs:3e3,numRetries:1,baseUrlOverride:r})}else u=await (0,l.Ao)({headers:t,urlPath:"/rest/enterprise/organization/domain/".concat(e),timeoutMs:3e3,numRetries:1});let d=await u.json();if("success"!==d.status){o.v.log("Unsuccessful ".concat(i," call:"),d);let e={error_code:null!==(a=null==d?void 0:d.error_code)&&void 0!==a?a:"unknown_error"};throw(0,l.Nh)(i,!1,e),Error("".concat(i," api call not successful"))}return(0,l.Gd)(i),null!==(c=null==d?void 0:d.organization)&&void 0!==c?c:null}catch(e){throw o.v.log("Error in ".concat(i,":"),e),(0,l.SO)(i,e),e}},g=async(e,t)=>{var r,n,i,a,s,c,u,d,p;let _="getOrganizationUsers",h="";if(t){let e=null!==(r=t["user-limit"])&&void 0!==r?r:500,o=null!==(n=t["user-offset"])&&void 0!==n?n:0,l=null!==(i=t["invite-limit"])&&void 0!==i?i:500,s=null!==(a=t["invite-offset"])&&void 0!==a?a:0;h="?user-limit=".concat(e,"&user-offset=").concat(o,"&invite-limit=").concat(l,"&invite-offset=").concat(s)}try{let t=await (0,l.Ao)({method:"GET",headers:e,urlPath:"/rest/enterprise/user/organization/users".concat(h),timeoutMs:(0,l.e4)({productionMs:2e3}),numRetries:1}),r=await t.json();if("success"!==r.status){o.v.log("Unsuccessful ".concat(_," call:"),r);let e={error_code:null!==(s=null==r?void 0:r.error_code)&&void 0!==s?s:"unknown_error"};return(0,l.Nh)(_,!1,e),null}return(0,l.Gd)(_),{userList:null!==(c=null==r?void 0:r.user_list)&&void 0!==c?c:[],hasNextUserPage:null!==(u=null==r?void 0:r.hasNextUserPage)&&void 0!==u&&u,inviteList:null!==(d=null==r?void 0:r.invite_list)&&void 0!==d?d:[],hasNextInvitePage:null!==(p=null==r?void 0:r.hasNextInvitePage)&&void 0!==p&&p}}catch(e){return o.v.log("Error in ".concat(_,":"),e),(0,l.SO)(_,e),null}},v=async()=>{let e="getSeatInfo";try{let t=await (0,l.Ao)({urlPath:"/rest/enterprise/user/organization/seat-info",timeoutMs:2e3}),r=await t.json();return(0,l.Gd)(e),r}catch(t){return o.v.log("Error in ".concat(e,":"),t),(0,l.SO)(e,t),null}}},5038:(e,t,r)=>{r.d(t,{$Q:()=>l,I3:()=>i,YG:()=>a,xu:()=>s});var n=r(91196),o=r(63911);let i=async(e,t,r)=>{let i="shouldShowFeedback  ";try{var a;let n=await (0,o.Ao)({urlPath:"/rest/entry/should-show-feedback/".concat(t),method:"POST",body:JSON.stringify(r),timeoutMs:(0,o.e4)({productionMs:500,devMs:1e3,clientSideMs:1e3}),numRetries:0,headers:{...e,"content-type":"application/json"}}),l=await n.json(),s=null!==(a=null==l?void 0:l.should_show_feedback)&&void 0!==a&&a;return(0,o.Gd)(i),s}catch(e){return n.v.log("Error in ".concat(i,":"),e),(0,o.SO)(i,e),!1}},a=async(e,t,r)=>{let i="sendEntryFeedback";try{let n=await (0,o.Ao)({urlPath:"/rest/entry/feedback/".concat(e),method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({answer_helpful:t,feedback:r}),timeoutMs:(0,o.e4)({productionMs:5e3}),numRetries:1});await n.json(),(0,o.Gd)(i)}catch(e){n.v.log("Error in ".concat(i,":"),e),(0,o.SO)(i,e)}},l=async(e,t)=>{if(!e)return;let r="sendLabelEntry";try{let n=await (0,o.Ao)({urlPath:"/rest/entry/label-entry/".concat(e),method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t),timeoutMs:(0,o.e4)({productionMs:5e3}),numRetries:1});await n.json(),(0,o.Gd)(r)}catch(e){n.v.log("Error in ".concat(r,":"),e),(0,o.SO)(r,e)}},s=async(e,t,r,n)=>{let i="exportThreadEntry";try{let a=await (0,o.Ao)({urlPath:"/rest/entry/export",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query_str:e,enriched_content:t,format:r,formatting_options:n}),timeoutMs:(0,o.e4)({productionMs:6e3}),numRetries:1});if(!a.ok){let e=await a.json();throw Error((null==e?void 0:e.detail)||"Failed to export thread entry")}return(0,o.Gd)(i),a.json()}catch(e){throw(0,o.SO)(i,e),e}}},23929:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(91196),o=r(63911);let i=async(e,t)=>{let r="sendAnalyticsEvent";try{let n=await (0,o.Ao)({urlPath:"/rest/event",method:"POST",headers:{...t||{},"content-type":"application/json"},body:JSON.stringify(e)});await n.json(),(0,o.Gd)(r)}catch(e){throw n.v.log("Error in ".concat(r,":"),e),(0,o.SO)(r,e),e}}},63911:(e,t,r)=>{r.d(t,{kd:()=>l,SO:()=>p,Gd:()=>d,ND:()=>c,WX:()=>g,FG:()=>v,e4:()=>u,Nh:()=>_,Ao:()=>n.WH,By:()=>s});var n=r(72115),o=r(60391),i=r(91196),a=r(4725);let l=2,s=(()=>{var e;return e={baseUrl:"https://perplexity.ai/",fetch:async e=>{let t=new URL(e.url).pathname;return(0,n.WH)({urlPath:t,method:e.method,body:e.body?await e.text():void 0,headers:Object.fromEntries(e.headers.entries()),timeoutMs:e.timeoutMs,numRetries:e.numRetries,backOffTime:e.backOffTime})}},(0,o.Ay)(e)})(),c=async e=>(0,n.WH)(e),u=e=>{var t;return null==e||e.productionMs,null==e||e.devMs,null!==(t=null==e?void 0:e.clientSideMs)&&void 0!==t?t:5e3},d=e=>{(0,a.F)("nextjs.ssr_render.rest_api_call.success",1,{fnName:e})},p=(e,t)=>{t instanceof Error&&_(e,(null==t?void 0:t.name)==="TimeoutError",{})},_=(e,t,r)=>{r=null!=r?r:{},(0,a.F)("nextjs.ssr_render.rest_api_call.failed",1,{fnName:e,wasTimeout:t,...r})},h=async e=>{let{fetchFn:t,fnName:r,fallbackErrorMessage:n}=e,o=await t();if(!o.ok){var a,l;let e=await o.json();throw i.v.log("Unsuccessful ".concat(r," call:"),e),_(r,!1,{error_code:null!==(a=null==e?void 0:e.error_code)&&void 0!==a?a:"unknown_error"}),Error(null!==(l=null==e?void 0:e.message)&&void 0!==l?l:n)}return d(r),o},g=async e=>{try{let t=await h(e);return await t.json()}catch(t){throw p(e.fnName,t),t}},v=async e=>{try{await h(e)}catch(t){throw p(e.fnName,t),t}}},5309:(e,t,r)=>{r.d(t,{Av:()=>s.Av,LS:()=>C.LS,XX:()=>C.XX,gX:()=>s.gX,fw:()=>s.fw,yA:()=>s.yA,n6:()=>s.n6,n8:()=>C.n8,p1:()=>C.p1,Xt:()=>L,YG:()=>H,Gm:()=>C.Gm,Ie:()=>F,Ll:()=>a,Sf:()=>O,U7:()=>s.U7,xT:()=>s.xT,jh:()=>s.jh,h9:()=>C.h9,sP:()=>p,OG:()=>_,UL:()=>g.UL,e3:()=>g.e3,hR:()=>y,DC:()=>S,Tp:()=>T,kY:()=>f,In:()=>b,vC:()=>P,YK:()=>R,Rr:()=>C.Rr,i8:()=>g.i8,_E:()=>g._E,Lr:()=>g.Lr,Lz:()=>U,m0:()=>z,aZ:()=>C.aZ,Gr:()=>M,LM:()=>g.LM,iG:()=>G,h_:()=>x,qf:()=>X,nq:()=>A,jm:()=>I,kC:()=>d,bI:()=>u,z$:()=>k,uT:()=>D,$:()=>m.$,Fj:()=>v.YG,il:()=>B,I3:()=>v.I3,kA:()=>l,$Q:()=>v.$Q,rK:()=>s.rK,KX:()=>C.KX,PE:()=>h,cZ:()=>K});var n=r(74631),o=r(91196),i=r(63911);let a=async(e,t,r)=>{var a,l,s,c;let u="getArticleByUUID";if("new"===e)return[];if(!e||"undefined"===e)return o.v.error("Tried to ".concat(u," with bad slugOrUUID: ").concat(e)),[];let d=null!==(a=null==r?void 0:r.version)&&void 0!==a?a:n.mj,p=null!==(l=null==r?void 0:r.source)&&void 0!==l?l:"web";try{let r=await (0,i.Ao)({headers:t,urlPath:"/rest/article/".concat(e,"?version=").concat(d,"&source=").concat(p),timeoutMs:(0,i.e4)({productionMs:3e3}),numRetries:1}),n=await r.json();if("success"!==n.status){o.v.log("Unsuccessful ".concat(u," call:"),n);let e={error_code:null!==(s=null==n?void 0:n.error_code)&&void 0!==s?s:"unknown_error"};return(0,i.Nh)(u,!1,e),[]}return(0,i.Gd)(u),null!==(c=null==n?void 0:n.entries)&&void 0!==c?c:[]}catch(e){return o.v.log("Error in ".concat(u,":"),e),(0,i.SO)(u,e),[]}},l=async()=>{let e="signOutAllSessions";try{let r=await (0,i.Ao)({urlPath:"/rest/user/sign-out-all",headers:{"X-Perplexity-CSRF-Protection":"1"},method:"POST",numRetries:1}),n=await r.json();if("success"!==n.status){var t;o.v.log("Unsuccessful ".concat(e," call:"),n);let r={error_code:null!==(t=null==n?void 0:n.error_code)&&void 0!==t?t:"unknown_error"};return(0,i.Nh)(e,!1,r),!1}return(0,i.Gd)(e),!0}catch(t){return o.v.log("Error in ".concat(e,":"),t),(0,i.SO)(e,t),!1}};var s=r(80911);let c=e=>{let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,n]=e;null!=n&&t.set(r,String(n))}),t.toString()},u=async e=>{let{headers:t={},params:r}=e,o=c({...r,version:n.mj});return await (0,i.WX)({fetchFn:()=>(0,i.Ao)({urlPath:"/rest/collections/list_user_collections?".concat(o),timeoutMs:(0,i.e4)(),method:"GET",headers:t}),fnName:"listUserCollections"})},d=async e=>{let{headers:t={},params:r}=e,n="listCollectionThreads",a=c(r),l=[];try{l=await (0,i.WX)({fetchFn:()=>(0,i.Ao)({urlPath:"/rest/collections/list_collection_threads?".concat(a),timeoutMs:(0,i.e4)(),method:"GET",headers:t}),fnName:n})}catch(e){return o.v.warn("".concat(n," errored ").concat(JSON.stringify(r),":"),e),[]}return l&&Array.isArray(l)?l:(o.v.warn("".concat(n," failed ").concat(JSON.stringify(r),":"),l),[])},p=async(e,t)=>{var r,a,l,s;let c="getDiscoverListFeedRestAsync",u=null!==(r=null==t?void 0:t.offset)&&void 0!==r?r:0,d=n.mj,p="?limit=".concat(20,"&offset=").concat(u,"&version=").concat(d),_=null!==(a=null==t?void 0:t.topic)&&void 0!==a?a:null;_&&"forYou"!==_&&(p+="&topic=".concat(_));try{let t=await (0,i.Ao)({urlPath:"/rest/discover/feed".concat(p),timeoutMs:(0,i.e4)(),numRetries:1,headers:e}),r=await t.json();if("success"!==r.status)throw Error("Bad discover ".concat(c," response: ").concat(r));(0,i.Gd)(c);let n=null!==(l=null==r?void 0:r.items)&&void 0!==l?l:[],o=null!==(s=null==r?void 0:r.feed_uuid)&&void 0!==s?s:null;return o&&n.length>0&&n.forEach(e=>{e.feed_uuid=o}),n}catch(e){return o.v.log("Error in ".concat(c,":"),e),(0,i.SO)(c,e),[]}},_=async e=>{let t="getDiscoverTopics";try{var r,a;let o=await (0,i.Ao)({headers:e,urlPath:"/rest/discover/topics?version=".concat(n.mj),timeoutMs:1500,numRetries:1});if(!o.ok){let e=await o.text();throw Error("Bad discover ".concat(t," response: ").concat(e))}(0,i.Gd)(t);let l=await o.json();return{userSelectedTopics:null!==(r=null==l?void 0:l.user_selected_topics)&&void 0!==r?r:[],allTopics:null!==(a=null==l?void 0:l.all_topics)&&void 0!==a?a:[]}}catch(e){return o.v.log("Error in ".concat(t,":"),e),(0,i.SO)(t,e),{userSelectedTopics:[],allTopics:[]}}},h=async e=>{let{topics:t}=e,r="updateDiscoverUserInterestedTopics";try{let e=await (0,i.ND)({urlPath:"/rest/discover/topics",method:"PUT",body:JSON.stringify({topics:t,return_feed:!0,return_feed_limit:20,return_feed_version:n.mj}),headers:{"content-type":"application/json"},timeoutMs:1500,numRetries:1});if(!e.ok){let t=await e.text();throw Error("Bad ".concat(r," response: ").concat(t))}(0,i.Gd)(r);let o=await e.json(),a=o.feed_items,l=o.feed_uuid;return l&&a.length>0&&a.forEach(e=>{e.feed_uuid=l}),{status:"success",feedItems:a}}catch(e){throw(0,i.SO)(r,e),e}};var g=r(14839),v=r(5038);r(29838),r(32195),r(96621);var E=r(54815);r(30974),r(69632),E.z.enum(["light","dark"]);var m=r(23929);let y=async e=>{let t="getFileDirectoryFiles",{fileRepositoryInfo:r,limit:n,offset:a,searchTerm:l,fileStates:s,email:c}=e;try{var u,d,p,_;let e={};e=s.includes("COMPLETE")?{file_repository_info:r,limit:n,offset:a,search_term:l,file_states_in_filter:s,calculate_user_uploaded_file_count:!0}:{file_repository_info:r,limit:n,offset:a,search_term:l,file_states_in_filter:s,email_in_filter:[c]};let h=await (0,i.Ao)({urlPath:"/rest/file-repository/list-files",method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),timeoutMs:(0,i.e4)(),numRetries:1}),g=await h.json();if(!h.ok){o.v.log("Unsuccessful ".concat(t," call:"),g);let e={error_code:null!==(u=null==g?void 0:g.error_code)&&void 0!==u?u:"unknown_error"};return(0,i.Nh)(t,!1,e),null}return(0,i.Gd)(t),{files:null!==(d=null==g?void 0:g.files)&&void 0!==d?d:[],numTotalFiles:null!==(p=null==g?void 0:g.num_total_files)&&void 0!==p?p:0,userUploadedFileCount:null!==(_=null==g?void 0:g.user_uploaded_file_count)&&void 0!==_?_:null}}catch(e){return o.v.log("Error in ".concat(t,":"),e),(0,i.SO)(t,e),null}},f=async()=>{try{let e=await (0,i.Ao)({urlPath:"/rest/file-repository/enabled",method:"GET",headers:{"content-type":"application/json"},timeoutMs:(0,i.e4)(),numRetries:1});if(!e.ok)return!1;return await e.json()}catch(e){return o.v.error("Error fetching file search enabled status:",e),!1}},S=async e=>{let t="getFileUploadURL";try{let n=await (0,i.Ao)({urlPath:"/rest/file-repository/get-file-upload-urls",method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),timeoutMs:5e3,numRetries:1}),a=await n.json();if(!n.ok){var r;o.v.log("Unsuccessful ".concat(t," call:"),a);let e={error_code:null!==(r=null==a?void 0:a.error_code)&&void 0!==r?r:"unknown_error"};throw(0,i.Nh)(t,!1,e),Error((null==a?void 0:a.detail)||"Failed to get fileUploadUrl")}return(0,i.Gd)(t),a}catch(e){throw o.v.log("Error in ".concat(t,":"),e),(0,i.SO)(t,e),e}},w=e=>e.helper_queries?e.helper_queries.map(e=>({icon:e.icon,queryKey:e.query_key,queryString:e.query_str,url:e.url})):[],T=async e=>{let{limit:t,campaign:r,locale:n,visitorId:o,userId:a}=e,l="getHelperQueries";try{let e=await (0,i.ND)({urlPath:"/rest/helper-queries/",method:"POST",body:JSON.stringify({limit:t,campaign:r,locale:n,visitor_id:o,user_nextauth_id:a}),headers:{"content-type":"application/json"},timeoutMs:(0,i.e4)({productionMs:250}),numRetries:1}),s=await e.json();return(0,i.Gd)(l),w(s)}catch(e){return(0,i.SO)(l,e),[]}},O=async e=>{let{query:t,searchFocus:r,sources:n,attachments:o,locale:a}=e,l="getAutosuggest";try{let e=await (0,i.Ao)({urlPath:"/rest/autosuggest/list-autosuggest",method:"POST",headers:{"content-type":"application/json","accept-language":a},body:JSON.stringify({query:t,search_focus:r,sources:n,attachments:o})}),s=await e.json();if("results"in s)return(0,i.Gd)(l),s.results;return(0,i.SO)(l,Error("No results in autosuggest response")),[]}catch(e){return(0,i.SO)(l,e),[]}},P=async()=>{let e="getLinkedInVerificationUrl";try{let t=await (0,i.ND)({urlPath:"/rest/linkedin/authorize",method:"GET",headers:{"content-type":"application/json"},timeoutMs:(0,i.e4)({productionMs:250}),numRetries:1}),r=await t.json();return(0,i.Gd)(e),{redirect:r.redirect,error:r.error}}catch(t){return(0,i.SO)(e,t),{redirect:"/settings/profile",error:"Something went wrong, please try again."}}},b=async()=>{let e="getLinkedInVerificationStatus";try{let t=await (0,i.ND)({urlPath:"/rest/linkedin/status",method:"GET",headers:{"content-type":"application/json"},timeoutMs:2500,numRetries:1}),r=await t.json();return(0,i.Gd)(e),r.verified}catch(t){return(0,i.SO)(e,t),!1}};function A(e){return!!(null==e?void 0:e.start)}let R=async()=>{let e="getMaintenance";try{let t=await (0,i.Ao)({urlPath:"/rest/maintenance",timeoutMs:(0,i.e4)({productionMs:5e3}),numRetries:1}),r=await t.json();return(0,i.Gd)(e),r}catch(t){o.v.log("Error in ".concat(e,":"),t),(0,i.SO)(e,t);return}};var N=r(52269);let k=async e=>{let{query:t,language:r,queryClient:n}=e;try{var i,a;let e=Date.now(),o=await (0,N.u)({resource:"https://suggest.perplexity.ai/search/v2/navigate",method:"POST",options:{headers:{"content-type":"application/json","X-Client-Name":"agi_ui_navigate_v2","X-Client-Env":"production"}},body:JSON.stringify({query:t,user_identity:{lang:r}}),timeoutMs:1e3}),l=await o.json(),s={...null==l?void 0:l.hit,navigation_results:null==l?void 0:null===(a=l.hit)||void 0===a?void 0:null===(i=a.navigation_results)||void 0===i?void 0:i.map(t=>({...t,client_request_timestamp:e}))};s&&n.setQueryData(["navigationResults",t],s)}catch(e){o.v.error("Failed to fetch navigational search results:",e)}};var C=r(92146);let L=async(e,t)=>{let r="createSpaceBookmark";try{let n=await (0,i.Ao)({urlPath:"/rest/spaces/bookmarks",method:"POST",body:JSON.stringify({collection_uuid:t}),timeoutMs:(0,i.e4)(),numRetries:0,headers:{...e,"content-type":"application/json"}}),o=await n.json();return(0,i.Gd)(r),o}catch(e){return o.v.log("Error in ".concat(r,":"),e),(0,i.SO)(r,e),!1}},I=async e=>{let{headers:t={},params:r}=e,o=c({...r,version:n.mj});return await (0,i.WX)({fetchFn:()=>(0,i.Ao)({urlPath:"/rest/spaces/bookmarks?".concat(o),timeoutMs:(0,i.e4)(),method:"GET",headers:t}),fnName:"listBookmarkedSpaces"})};var j=r(42160);let U=async e=>{let t="getRefreshSubscriptionStatus";try{let r=await (0,i.Ao)({urlPath:"/rest/user/subscription/refresh",timeoutMs:(0,i.e4)(),headers:{...e,"X-Perplexity-CSRF-Protection":"1"}}),n=await r.json();return(0,i.Gd)(t),n}catch(e){return o.v.log("Error in ".concat(t,":"),e),(0,i.SO)(t,e),null}},x=async e=>{let t="getUserSettings";try{let r=await (0,i.Ao)({urlPath:"/rest/user/settings",timeoutMs:1500,numRetries:i.kd,headers:e}),n=await r.json(),o=(0,j.P$)(n);return(0,i.Gd)(t),o}catch(e){return o.v.log("Error in ".concat(t,":"),e),(0,i.SO)(t,e),(0,j.P$)({})}},M=async(e,t)=>{let r="getUserDiscountOffer";try{let n=await (0,i.Ao)({urlPath:"/rest/shopping/user-discount-offer?amount_micros=".concat(e),method:"GET",headers:{...t,"content-type":"application/json"}});if(!n.ok){let e=await n.text();throw Error("Failed to fetch user discount offer: ".concat(e))}return(0,i.Gd)(r),await n.json()}catch(e){return o.v.log("Error in ".concat(r,":"),e),(0,i.SO)(r,e),{}}},D=async e=>{let{settings:t}=e,r="saveUserSettings";try{let e=await (0,i.ND)({urlPath:"/rest/user/save-settings",method:"PUT",body:JSON.stringify({updated_settings:t}),headers:{"content-type":"application/json"},timeoutMs:(0,i.e4)(),numRetries:1});if(!e.ok){let t=await e.text();throw Error("Bad ".concat(r," response: ").concat(t))}return(0,i.Gd)(r),{status:"success"}}catch(e){throw(0,i.SO)(r,e),e}},G=async()=>{let e="getUserPreviousSubscription";try{let t=await (0,i.Ao)({urlPath:"/rest/user/previous-subscription",timeoutMs:3e3}),r=await t.json();return(0,i.Gd)(e),r}catch(t){return o.v.log("Error in ".concat(e,":"),t),(0,i.SO)(e,t),null}},B=async e=>{let t="sendReferralEmail";try{let r=await (0,i.Ao)({urlPath:"/rest/user/send-referral-email",method:"POST",body:JSON.stringify({to_email:e}),timeoutMs:2e4,headers:{"content-type":"application/json"}});await r.json(),(0,i.Gd)(t)}catch(e){(0,i.SO)(t,e)}},z=async e=>{let t="getSharepointSitesQuery";try{let r=await (0,i.Ao)({urlPath:"/rest/connectors/sharepoint/sites",method:"POST",body:JSON.stringify({skip_token:e}),headers:{"content-type":"application/json"},timeoutMs:(0,i.e4)({productionMs:500}),numRetries:1}),n=await r.json();if(!r.ok)throw Error("Failed to fetch sharepoint sites");return(0,i.Gd)(t),{sites:n.sites,skipToken:n.skip_token}}catch(e){return o.v.log("Error in ".concat(t,":"),e),(0,i.SO)(t,e),null}},F=async()=>{let e="generateUserApiKey";try{let t=await (0,i.Ao)({urlPath:"/rest/pplx-api/generate-user-api-key",method:"POST",headers:{"content-type":"application/json"}}),r=await t.json();return(0,i.Gd)(e),r}catch(t){throw o.v.log("Error in ".concat(e,":"),t),(0,i.SO)(e,t),t}},H=async e=>{let t="deleteUserApiKey";try{let r=await (0,i.Ao)({urlPath:"/rest/pplx-api/delete-user-api-key",method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify({auth_token:e})}),n=await r.json();return(0,i.Gd)(t),n}catch(e){throw o.v.log("Error in ".concat(t,":"),e),(0,i.SO)(t,e),e}},X=async e=>{let t="getVercelProjects";try{let n=await (0,i.Ao)({urlPath:"/rest/pplx-api/get-vercel-projects?code=".concat(e),method:"GET",headers:{"content-type":"application/json"},timeoutMs:(0,i.e4)(),numRetries:1}),a=await n.json();if(!n.ok){var r;o.v.log("Unsuccessful ".concat(t," call:"),a);let e={error_code:null!==(r=null==a?void 0:a.error_code)&&void 0!==r?r:"unknown_error"};return(0,i.Nh)(t,!1,e),{projects:[],status:"failed"}}return(0,i.Gd)(t),{projects:a.projects,status:"success"}}catch(e){return o.v.log("Error in ".concat(t,":"),e),(0,i.SO)(t,e),{projects:[],status:"failed"}}},K=async(e,t,r)=>{let n="updateVercelProject";try{let l=await (0,i.Ao)({urlPath:"/rest/pplx-api/update-vercel-project",method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({project_name:e,key:t,code:r}),timeoutMs:(0,i.e4)(),numRetries:1}),s=await l.json();if(!l.ok){var a;o.v.log("Unsuccessful ".concat(n," call:"),s);let e={error_code:null!==(a=null==s?void 0:s.error_code)&&void 0!==a?a:"unknown_error"};return(0,i.Nh)(n,!1,e),{status:"failed"}}return(0,i.Gd)(n),{status:"success"}}catch(e){return o.v.log("Error in ".concat(n,":"),e),(0,i.SO)(n,e),{status:"failed"}}}},93979:(e,t,r)=>{r.d(t,{$8:()=>m,$O:()=>l,Bk:()=>u,Ci:()=>c,Dj:()=>s,Ek:()=>g,HO:()=>d,Hn:()=>i,OM:()=>h,Og:()=>p,U_:()=>n,Wr:()=>_,dT:()=>y,fH:()=>v,s2:()=>o,v2:()=>E,vW:()=>a});let n=()=>["get_user_settings",{}],o=()=>["get_helper_queries",{}],i=()=>["get_user_promotions",{}],a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"forYou",t=arguments.length>1?arguments[1]:void 0;return["list_feed",{topic:e,locale:t}]},l=()=>["discover_topics",{}],s=()=>["userOrgData",{}],c=e=>["get_collection",{collection_slug:e.slice(-22)}],u=()=>["shoppingOrders",{}],d=()=>["getOrganizationUsers",{}],p=e=>["get_thread_by_uuid",{uuid:e}],_=e=>["get_order_status",{order_id:e}],h=e=>["get_article_by_uuid",{uuid:e}],g=()=>["customer_shopping_info",{}],v=e=>["articleResults",{frontend_context_uuid:e}],E=e=>["list_file_directory",e.file_repository_type,e.owner_id],m=(e,t,r,n,o)=>[...E({file_repository_type:e,owner_id:t}),r,n,o],y=e=>["get_sharepoint_sites",{skipToken:e}]},92146:(e,t,r)=>{r.d(t,{Gm:()=>E,KX:()=>v,LS:()=>s,Rr:()=>l,WZ:()=>g,XX:()=>p,Yj:()=>_,aP:()=>h,aZ:()=>a,h9:()=>c,n8:()=>u,p1:()=>d});var n=r(91196),o=r(63911),i=r(93979);let a=async e=>{let t="getShoppingOrders";try{var r;let n=await (0,o.Ao)({urlPath:"/rest/shopping/user-orders",method:"GET",timeoutMs:(0,o.e4)({productionMs:5e3}),numRetries:1,headers:{...e,"content-type":"application/json"}});if(!n.ok){let e=await n.text();throw Error("Failed to fetch shopping orders: ".concat(e))}(0,o.Gd)(t);let i=await n.json();return null!==(r=null==i?void 0:i.orders)&&void 0!==r?r:[]}catch(e){return n.v.log("Error in ".concat(t,":"),e),(0,o.SO)(t,e),[]}},l=async(e,t)=>{try{let r=await (0,o.Ao)({urlPath:"/rest/shopping/get-order-status?order_id=".concat(e),method:"GET",headers:{"content-type":"application/json"}}),n=await r.json();return t&&t.setQueryData((0,i.Bk)(),t=>t?t.map(t=>t.order_id===e?{...t,status:n.order_status}:t):t),n}catch(e){throw(0,o.SO)("getOrderStatus",e),e}},s=async e=>{let{shipping_address:t,amount:r}=e,n="calculateTaxAndShipping";try{let e=await (0,o.ND)({urlPath:"/rest/shopping/calculate-tax-and-shipping",method:"POST",body:JSON.stringify({shipping_address:t,amount:r}),headers:{"content-type":"application/json"},timeoutMs:(0,o.e4)(),numRetries:1});if(!e.ok){let t=await e.text();throw Error("Bad ".concat(n," response: ").concat(t))}return(0,o.Gd)(n),await e.json()}catch(e){throw(0,o.SO)(n,e),e}},c=async()=>{let e="getCustomerShoppingInfo";try{let t=await (0,o.Ao)({urlPath:"/rest/shopping/retrieve-customer-shopping-info",method:"GET",timeoutMs:(0,o.e4)({productionMs:5e3})}),r=await t.json();return(0,o.Gd)(e),r}catch(t){return(0,o.SO)(e,t),{customer:null}}},u=async e=>{let t="createShoppingOrder";try{let i=await (0,o.Ao)({urlPath:"/rest/shopping/create-shopping-order",method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),timeoutMs:1e4,numRetries:0}),a=await i.json();if(!i.ok){var r;n.v.log("Unsuccessful ".concat(t," call:"),a);let e={error_code:null!==(r=null==a?void 0:a.error_code)&&void 0!==r?r:"unknown_error"};throw(0,o.Nh)(t,!1,e),Error((null==a?void 0:a.message)||"Failed to create shopping order")}return(0,o.Gd)(t),a}catch(e){throw n.v.log("Error in ".concat(t,":"),e),(0,o.SO)(t,e),e}},d=async e=>{let t="createShoppingPaymentIntent";try{let i=await (0,o.Ao)({urlPath:"/rest/shopping/create-shopping-payment-intent",method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),timeoutMs:6e3,numRetries:0}),a=await i.json();if("success"!==a.status){var r;n.v.log("Unsuccessful ".concat(t," call:"),a);let e={error_code:null!==(r=null==a?void 0:a.error_code)&&void 0!==r?r:"unknown_error"};throw(0,o.Nh)(t,!1,e),Error((null==a?void 0:a.message)||"Failed to create payment intent")}return(0,o.Gd)(t),a}catch(e){throw n.v.log("Error in ".concat(t,":"),e),(0,o.SO)(t,e),e}},p=async e=>{let t="cancelShoppingOrder";try{let r=await (0,o.Ao)({urlPath:"/rest/shopping/update-shopping-order",method:"POST",body:JSON.stringify({order_id:e,order_status:"cancelled"}),headers:{"content-type":"application/json"},timeoutMs:2e4}),n=await r.json();if("success"!==n.status)throw Error("Failed to cancel shopping order");return(0,o.Gd)(t),n}catch(e){throw n.v.log("Error in ".concat(t,":"),e),(0,o.SO)(t,e),e}},_=async e=>{let t="createFirmlyCart";try{let t=await (0,o.Ao)({urlPath:"/rest/shopping/create-firmly-cart",method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),timeoutMs:(0,o.e4)({clientSideMs:5e3})});return await t.json()}catch(e){throw n.v.log("Error in ".concat(t,":"),e),(0,o.SO)(t,e),e}},h=async e=>{try{let t=await (0,o.Ao)({urlPath:"/rest/shopping/set-firmly-shipping-info",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),timeoutMs:(0,o.e4)({clientSideMs:7e3})});return await t.json()}catch(e){throw(0,o.SO)("setFirmlyShippingInfo",e),e}},g=async()=>{try{let e=await (0,o.Ao)({urlPath:"/rest/shopping/create-firmly-session",method:"GET",headers:{"Content-Type":"application/json"},timeoutMs:(0,o.e4)()});return await e.json()}catch(e){throw(0,o.SO)("createFirmlySession",e),e}},v=async e=>{let t="updateCustomerShippingAddress";try{let i=await (0,o.Ao)({urlPath:"/rest/stripe/update-customer-shipping-address",method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),timeoutMs:(0,o.e4)()}),a=await i.json();if(!i.ok){var r;n.v.log("Unsuccessful ".concat(t," call:"),a);let e={error_code:null!==(r=null==a?void 0:a.error_code)&&void 0!==r?r:"unknown_error"};throw(0,o.Nh)(t,!1,e),Error((null==a?void 0:a.message)||"Failed to update customer shipping address")}return(0,o.Gd)(t),a}catch(e){throw n.v.log("Error in ".concat(t,":"),e),(0,o.SO)(t,e),e}},E=async e=>(await (0,o.Ao)({urlPath:"/rest/shopping/fetch-product-details",timeoutMs:4e3,method:"POST",body:JSON.stringify({option_key:e}),headers:{"content-type":"application/json"}})).json()},37245:(e,t,r)=>{r.d(t,{Ft:()=>l,il:()=>s});var n=r(54815);let o=n.z.enum(["factset","crunchbase","google_drive","onedrive","sharepoint"]),i=n.z.enum(["oauth","api_key"]),a=n.z.object({client_id:n.z.string().optional(),api_key:n.z.string().optional(),tenant_name:n.z.string().nullable().optional()}).nullable(),l=n.z.object({name:o,auth_type:i,connected:n.z.boolean(),error:n.z.string().nullable(),picker_credentials:a,connection_display_name:n.z.string().nullable(),connection_uuid:n.z.string().nullable()}),s=n.z.object({connectors:n.z.array(l)})},69632:(e,t,r)=>{r.d(t,{Dn:()=>a,k0:()=>o,pE:()=>i});var n=r(54815),o=function(e){return e.DEFAULT="default",e.PRO="pro",e.R1="r1",e.O1="o1",e.O3_MINI="o3mini",e}({});let i=n.z.enum(["default","pro","r1","o1","o3mini"]),a=["r1","o1","o3mini"]},29838:(e,t,r)=>{r.d(t,{Ae:()=>L,Af:()=>b,DE:()=>v,EV:()=>C,F7:()=>y,GL:()=>S,Lv:()=>k,NA:()=>m,Ne:()=>U,OQ:()=>G,Oi:()=>x,Ri:()=>i,TV:()=>o,YF:()=>s,Yd:()=>O,_1:()=>f,cH:()=>j,co:()=>I,de:()=>h,fc:()=>N,kl:()=>A,lS:()=>E,nk:()=>M,o$:()=>c,q5:()=>_,r4:()=>w,rQ:()=>g,sN:()=>T,t6:()=>P,vs:()=>D,xk:()=>R,yW:()=>p,zs:()=>a}),r(60398);var n=r(31035);let o=(e,t,r)=>{n.A.set(e,t,r)},i=e=>n.A.get(e),a=e=>{n.A.remove(e)},l="pplx.chosen-locale",s="pplx.la-status",c="pplx.trackingAllowed",u="pplx.source-selection-v3",d="pplx.homepage-banner-dismissals",p="pplx.erp",_="pplx.search-mode",h=400,g=e=>{o(l,e,{expires:h})},v=()=>i(l),E=()=>{a(l)},m=e=>{o("pplx.is-incognito",String(e),{})},y=e=>{o("pplx.mweb-splash-page-dismissed",String(e),{expires:h})},f=e=>{o("pplx.is-discover-interest-box-dismissed",String(e),{expires:h})},S=e=>{o("pplx.is-default-search-extension-banner-clicked",String(e),{expires:h})},w=e=>{o(s,e,{})},T=e=>{o("pplx.is-enterprise-ad-dismissed",String(e),{expires:h})},O=e=>{o("pplx.is-autosuggest-disabled",String(e),{expires:h})},P=e=>{o("pplx.is-sidebar-mac-app-upsell-clicked",String(e),{expires:h})},b=e=>{o("pplx.is-org-free-trial-banner-clicked",String(e),{expires:h})},A=e=>{o("pplx.is-pro-search-limit-banner-clicked",String(e),{expires:86400})},R=()=>{o("pplx.has-rendered-reasoning-tooltip","true",{expires:h})},N=e=>{o("pplx.shared-thread-delayed-gate",null!=e?e:"")},k=e=>{let t=i(d),r=(null==t?void 0:t.length)?t.split(","):[];r.includes(e)||(r.push(e),o(d,r.join(","),{expires:h}))},C=e=>{o("pplx.sports-ios-notification-cta",String(e),{expires:h})},L=(e,t)=>{o("".concat(u,"-").concat(t),JSON.stringify(e),{expires:7})},I=e=>{let t=i("".concat(u,"-").concat(e));return t?JSON.parse(t):null},j=()=>{var e;return null!==(e=i("pplx.visitor-id"))&&void 0!==e?e:null},U=e=>{o("pplx.pin-variant",e,{expires:h})},x=e=>{o("pplx.prefers-metric",String(e),{expires:h})},M=e=>{o("pplx.is-sidebar-crunchbase-ad-dismissed",String(e),{expires:h})},D=e=>{o("pplx.is-sidebar-factset-ad-dismissed-v2",String(e),{expires:h})},G=e=>{o("pplx.is-integrations-modal-clicked-v2",String(e),{expires:h})}},42160:(e,t,r)=>{r.d(t,{C$:()=>c,FQ:()=>_,P$:()=>d,oO:()=>s,pw:()=>p,qZ:()=>u});var n=r(49106),o=r(77968),i=r(91196),a=r(37245);let l=e=>{let t=n.i.legacyParseBackendOutputStr(e);return t?t.answer.replace(o.c,""):null},s=e=>{var t,r,n,o,i,a,s,c,u,d,p;let _="article"===e.mode?"/page":"/search";return{title:null!==(a=e.title)&&void 0!==a?a:"",preview:l(e.first_answer),threadCount:e.query_count,lastUpdated:e.last_query_datetime,href:"".concat(_,"/").concat(e.slug),rwToken:e.read_write_token,focus:null!==(s=e.search_focus)&&void 0!==s?s:"internet",entryUUID:e.uuid,contextUUID:e.context_uuid,copilot:"copilot"===e.mode,socialInfo:e.social_info,collectionUUID:null!==(c=null===(t=e.collection)||void 0===t?void 0:t.uuid)&&void 0!==c?c:null,authorImage:null!==(u=e.author_image)&&void 0!==u?u:null,featuredImage:null!==(d=null==e?void 0:null===(n=e.featured_images)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.image)&&void 0!==d?d:null,thumbnailImage:null!==(p=null==e?void 0:null===(i=e.featured_images)||void 0===i?void 0:null===(o=i[0])||void 0===o?void 0:o.thumbnail)&&void 0!==p?p:null,threadAccess:e.thread_access,collection:e.collection,mode:e.mode}},c=e=>{var t,r,n,o,i,a,s,c,u,d,p,_;return{title:null!==(a=e.title)&&void 0!==a?a:"",href:"/page/".concat(e.slug),backendUUID:e.uuid,collectionUUID:null!==(s=null===(t=e.collection)||void 0===t?void 0:t.uuid)&&void 0!==s?s:null,authorImage:null!==(c=e.author_image)&&void 0!==c?c:null,authorUsername:null!==(u=e.author_username)&&void 0!==u?u:null,featuredImage:null!==(d=null==e?void 0:null===(n=e.featured_images)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.image)&&void 0!==d?d:null,collection:e.collection,socialInfo:e.social_info,accessLevel:null!==(p=e.access)&&void 0!==p?p:e.thread_access,preview:l(e.first_answer),offset:e.hero_offset,entryUUID:e.uuid,rwToken:e.read_write_token,lastUpdated:e.last_query_datetime,threadAccess:e.access,thumbnailImage:null!==(_=null==e?void 0:null===(i=e.featured_images)||void 0===i?void 0:null===(o=i[0])||void 0===o?void 0:o.thumbnail)&&void 0!==_?_:null,contextUUID:e.context_uuid,webResults:e.web_results_preview,feedUUID:e.feed_uuid}},u={gpt4_limit:"gpt4Limit",gpt4_total:"gpt4Total",opus_limit:"opusLimit",pages_limit:"pagesLimit",upload_limit:"uploadLimit",article_image_upload_limit:"articleImageUploadLimit",max_files_per_user:"maxFilesPerUser",max_files_per_repository:"maxFilesPerRepository",default_model:"defaultModel",default_image_generation_model:"defaultImageGenerationModel",query_count:"queryCount",query_count_copilot:"queryCountCopilot",query_count_mobile:"queryCountMobile",has_ai_profile:"hasAiProfile",referral_code:"referralCode",referral_num_success:"referralNumSuccess",disable_training:"disableTraining",default_copilot:"defaultCopilot",is_sidebar_collapsed:"isSidebarCollapsed",subscription_tier:"subscriptionTier",create_limit:"createLimit",notif_status:"notifStatus",email_status:"emailStatus",allow_article_creation:"allowArticleCreation",is_verified:"isVerified"},d=e=>{var t,r,n,o,l,s,c,u,d,p,_,h,g,v,E,m,y,f,S,w,T,O,P,b,A,R,N,k,C,L,I;return{hasLoadedSettings:!0,gpt4Limit:null!==(t=null==e?void 0:e.gpt4_limit)&&void 0!==t?t:0,gpt4Total:null!==(r=null==e?void 0:e.gpt4_total)&&void 0!==r?r:0,opusLimit:null!==(n=null==e?void 0:e.opus_limit)&&void 0!==n?n:0,proReasoningLimit:null!==(o=null==e?void 0:e.pro_reasoning_limit_web)&&void 0!==o?o:0,pagesLimit:null!==(l=null==e?void 0:e.pages_limit)&&void 0!==l?l:0,uploadLimit:null!==(s=null==e?void 0:e.upload_limit)&&void 0!==s?s:0,defaultModel:null!==(c=null==e?void 0:e.default_model)&&void 0!==c?c:"turbo",defaultImageGenerationModel:null!==(u=null==e?void 0:e.default_image_generation_model)&&void 0!==u?u:"default",articleImageUploadLimit:null!==(d=null==e?void 0:e.article_image_upload_limit)&&void 0!==d?d:0,maxFilesPerUser:null!==(p=null==e?void 0:e.max_files_per_user)&&void 0!==p?p:0,maxFilesPerRepository:null!==(_=null==e?void 0:e.max_files_per_repository)&&void 0!==_?_:0,queryCount:null!==(h=null==e?void 0:e.query_count)&&void 0!==h?h:0,queryCountCopilot:null!==(g=null==e?void 0:e.query_count_copilot)&&void 0!==g?g:0,queryCountMobile:null!==(v=null==e?void 0:e.query_count_mobile)&&void 0!==v?v:0,hasAiProfile:null!==(E=null==e?void 0:e.has_ai_profile)&&void 0!==E&&E,referralCode:null!==(m=null==e?void 0:e.referral_code)&&void 0!==m?m:"",referralNumSuccess:null!==(y=null==e?void 0:e.referral_num_success)&&void 0!==y?y:0,disableTraining:null!==(f=null==e?void 0:e.disable_training)&&void 0!==f&&f,defaultCopilot:null!==(S=null==e?void 0:e.default_copilot)&&void 0!==S&&S,isSidebarCollapsed:null!==(w=null==e?void 0:e.is_sidebar_collapsed)&&void 0!==w&&w,subscriptionTier:null!==(O=null!==(T=null==e?void 0:e.subscription_tier)&&void 0!==T?T:null==e?void 0:e.subscription_tier)&&void 0!==O?O:"null",stripeStatus:null!==(P=null==e?void 0:e.stripe_status)&&void 0!==P?P:"none",revenuecatStatus:null!==(b=null==e?void 0:e.revenuecat_status)&&void 0!==b?b:"none",revenuecatSource:null!==(A=null==e?void 0:e.revenuecat_source)&&void 0!==A?A:"none",createLimit:null!==(R=null==e?void 0:e.create_limit)&&void 0!==R?R:0,notifStatus:null!==(N=null==e?void 0:e.notif_status)&&void 0!==N?N:"daily",emailStatus:null!==(k=null==e?void 0:e.email_status)&&void 0!==k?k:"daily",hasDataRetentionWarning:null!==(C=null==e?void 0:e.has_data_retention_warning)&&void 0!==C&&C,allowArticleCreation:null!==(L=null==e?void 0:e.allow_article_creation)&&void 0!==L&&L,isVerified:null!==(I=null==e?void 0:e.is_verified)&&void 0!==I&&I,connectors:function(e){if(!e)return{connectors:[]};let t=a.il.safeParse(e);return t.success?t.data:(i.v.error(t.error),{connectors:[]})}(null==e?void 0:e.connectors)}};function p(e,t){return[...e,...t.filter(t=>{if(t.markdown_block){var r,n,o;if((null===(r=t.markdown_block.chunks)||void 0===r?void 0:r.length)===0)return!1;let i=e.filter(e=>e.markdown_block&&e.intended_usage===t.intended_usage).map(e=>e.markdown_block);return(null!==(o=null===(n=t.markdown_block)||void 0===n?void 0:n.chunk_starting_offset)&&void 0!==o?o:0)>Math.max(-1,...i.map(e=>e.chunk_starting_offset))}if(t.web_result_block){let r=new Set(e.filter(e=>e.web_result_block).flatMap(e=>e.web_result_block.web_results).map(e=>e.url));return!t.web_result_block.web_results.some(e=>r.has(e.url))}if(t.media_block){let r=new Set(e.filter(e=>e.media_block).flatMap(e=>e.media_block.media_items).map(e=>e.url));return!t.media_block.media_items.some(e=>r.has(e.url))}if(t.knowledge_card_block){let r=new Set(e.filter(e=>e.knowledge_card_block).flatMap(e=>e.knowledge_card_block.knowledge_cards).map(e=>"".concat(e.id,"_").concat(e.title)));return!t.knowledge_card_block.knowledge_cards.some(e=>r.has("".concat(e.id,"_").concat(e.title)))}if(t.citation_block){let r=new Set(e.filter(e=>e.citation_block).flatMap(e=>e.citation_block.citations).map(e=>e.index));return!t.citation_block.citations.some(e=>r.has(e.index))}return!0})]}function _(e,t){return e&&e.place_widget_block&&t.place_widget_block?{...t,place_widget_block:{...e.place_widget_block,review_summary:t.place_widget_block.review_summary}}:t}},32195:(e,t,r)=>{r.d(t,{oJ:()=>u,yZ:()=>c});var n=r(29838);let o="eppo_overrides",i="eppo_overrides",a=e=>!!e&&e.endsWith("@perplexity.ai"),l=e=>{let t={};return e.forEach((e,r)=>{r.startsWith("eppo_")&&(t[r.replace("eppo_","")]=e)}),t},s=e=>{let t=!0,r=JSON.stringify(e);try{(0,n.TV)(i,r)}catch(e){t=!1}if("undefined"!=typeof sessionStorage)try{sessionStorage.setItem(o,r)}catch(e){t=!1}return t},c=(e,t)=>{if(!a(e))return!1;let r=l(t);return 0!==Object.keys(r).length&&s(r)};function u(){try{let e=(0,n.Ri)(i);if(e)return JSON.parse(e);if("undefined"!=typeof sessionStorage){let e=sessionStorage.getItem(o);if(e)return JSON.parse(e)}return{}}catch(e){return{}}}},96621:(e,t,r)=>{r.d(t,{Gw:()=>p,IU:()=>h,f8:()=>_,qB:()=>a,zo:()=>c}),r(92072);var n=r(74631),o=r(91196),i=r(37811);let a="set_to_undefined"===i.env.NEXT_PUBLIC_DEFAULT_SOCKET_URL?void 0:i.env.NEXT_PUBLIC_DEFAULT_SOCKET_URL||"https://preview.perplexity.ai/",l=e=>window.location.hostname.includes("localhost")?e:"".concat(window.location.protocol,"//").concat(window.location.hostname),s=()=>i.env.NEXT_PUBLIC_REST_ASYNC_SERVER_URL?i.env.NEXT_PUBLIC_REST_ASYNC_SERVER_URL:l("https://testing.i.perplexity.ai"),c=()=>s(),u={reconnection:!0,reconnectionDelay:500,reconnectionDelayMax:5e3,reconnectionAttempts:999},d=()=>{let e={};return i.env.NEXT_PUBLIC_CF_ACCESS_ID&&(e["CF-Access-Client-Id"]=i.env.NEXT_PUBLIC_CF_ACCESS_ID),i.env.NEXT_PUBLIC_CF_ACCESS_SECRET&&(e["CF-Access-Client-Secret"]=i.env.NEXT_PUBLIC_CF_ACCESS_SECRET),i.env.NEXT_PUBLIC_PPL_DEV_HEADER_NAME&&i.env.NEXT_PUBLIC_PPL_DEV_HEADER_TOKEN&&(e[i.env.NEXT_PUBLIC_PPL_DEV_HEADER_NAME]=i.env.NEXT_PUBLIC_PPL_DEV_HEADER_TOKEN),i.env.PPL_VERCEL_SSR_CLIENT_HEADER_NAME&&i.env.PPL_VERCEL_SSR_CLIENT_HEADER_TOKEN&&(e[i.env.PPL_VERCEL_SSR_CLIENT_HEADER_NAME]=i.env.PPL_VERCEL_SSR_CLIENT_HEADER_TOKEN),i.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_NAME&&i.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_TOKEN&&(e[i.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_NAME]=i.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_TOKEN),e},p=()=>({auth:{jwt:"anonymous-ask-user"},extraHeaders:{...d()},...u}),_=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.emit;e.rawEmit=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return o.call(this,e,...r)},e.emit=function(i){for(var a=arguments.length,l=Array(a>1?a-1:0),s=1;s<a;s++)l[s-1]=arguments[s];let c=n.mj,u=r?n.Qc:t?n.en:n.tl,d=l.length-1,p="function"==typeof l[d]?d-1:d;p>=0&&"object"==typeof l[p]&&null!==l[p]&&(l[p]={version:c,source:u,...l[p]}),o.call(e,i,...l)}},h=async()=>{let e=null;try{let t=await fetch("/api/auth/token",{headers:{"X-Token-Type":"Perplexity-JWT"}});e=(await t.json()).perplexity_jwt}catch(e){o.v.warn("Error getting dev token:",e)}return e}},41418:(e,t,r)=>{r.d(t,{E:()=>n}),r(30974),r(23929),r(29838),r(54815).z.string().ip(),r(37811),r(37811);let n=()=>{if(window.screen)return"".concat(window.screen.width,"x").concat(window.screen.height)}},77968:(e,t,r)=>{r.d(t,{c:()=>o,v:()=>i});let n=/(\[\d{1,3}\])/,o=RegExp(n.source+"|"+/(\[\d{1,3},\s*\{ts:.*\}\])/.source),i=(e,t)=>{if(o.test(e)){var r,i;if(n.test(e)){let n=parseInt(e.substring(1,e.length-1))-1;return(null!==(r=null==t?void 0:t[n])&&void 0!==r?r:null)||null}{let r=e.indexOf(","),n=parseInt(e.substring(1,r))-1,o=null!==(i=null==t?void 0:t[n])&&void 0!==i?i:null;return o?(o.url=a(o.url,e),o):null}}return null},a=(e,t)=>{let r=e.split("&")[0],n=t.indexOf(":");if(-1===n)return r;let o=t.indexOf("}"),i=t.substring(n+1,o);return r+"&t=".concat(i)}},93104:(e,t,r)=>{r.d(t,{Dk:()=>v,Kw:()=>i,hx:()=>y,ij:()=>m,k9:()=>g,or:()=>o,zA:()=>E});var n=r(54815);let o={tiny:"tiny",small:"small",regular:"regular",large:"large",xl:"xl",none:"none"};var i=(e=>(e.RETRY_BUTTON="retryButton",e.PRO_PAGE="proPage",e.SHARE_DROPDOWN="shareDropdown",e.PRICING_TABLE="pricingTable",e.TRY_COPILOT="tryCopilot",e.PRO_HOVER_CARD_BUTTON="proHoverCardButton",e.PRO_REASONING_SELECTOR="proReasoningSelector",e.LIBRARY_PAGE="libraryPage",e.SPACES_PAGE="spacesPage",e.SPACES_LANDING="spacesLanding",e.DISCOVER_TOPICS="discoverTopics",e.COLLECTIONS="collections",e.SPACES="spaces",e.THREAD_SOCIAL="threadSocial",e.MOBILE_SIGNUP="mobileSignup",e.RELATED_QUERIES="relatedQueries",e.FILE_UPLOAD="fileUpload",e.SPACES_FILE_UPLOAD="spacesFileUpload",e.TRY_PRO="tryPro",e.HOMEPAGE_FREE_PLAN_UPSELL="homepageFreePlanUpsell",e.LOGIN_BUTTON="loginButton",e.SIGNUP_BUTTON="signupButton",e.LOGIN_BUTTON_HEADER="loginButtonHeader",e.SIGNUP_BUTTON_HEADER="signupButtonHeader",e.FLOATING_SIGNUP="floatingSignup",e.SIDEBAR_LOGIN_AD="sidebarLoginAd",e.VISITOR_GATE="visitorGate",e.SHARED_THREAD_LOGIN_GATE="sharedThreadLoginGate",e.GENERATE_IMAGE="generateImage",e.PPLX_API_PAGE="pplxApiPage",e.FILES_PAGE="filesPage",e.PURCHASES_PAGE="purchasesPage",e.GOOGLE_ONETAP_HOME="oneTapHome",e.GOOGLE_ONETAP_THREAD="oneTapThread",e.GOOGLE_ONETAP_PAGE="oneTapPage",e.GOOGLE_ONETAP_DISCOVER="oneTapDiscover",e.GOOGLE_ONETAP_UNKNOWN="oneTap",e.ONBOARDING="onboarding",e.NEXTAUTH_SIGNIN_PAGE="nextauthSignInPage",e.DISCOUNT_CODE_BANNER="discountCodeBanner",e.PARTNER_CODE="partnerCode",e.ARTICLE_NEW="articleNew",e.THREAD_TO_ARTICLE="threadToArticle",e.ORG_CREATE="orgCreate",e.ORG_PANEL="orgPanel",e.LOSS_AVERSION_MODAL="lossAversionModal",e.NEW_THREAD_BUTTON="newThreadButton",e.NEW_THREAD_SHORTCUT="newThreadShortcut",e.DISCOVER_BUTTON="discoverButton",e.THREAD_BOOKMARK_BUTTON="threadBookmarkButton",e.PAGE_BOOKMARK_BUTTON="pageBookmarkButton",e.DISCOVER_FEED_BOOKMARK_BUTTON="discoverFeedBookmarkButton",e.BACK_TO_SCHOOL="backToSchool",e.WELCOME_BACK="welcomeBack",e.LEFT_HAND_NAV="leftHandNav",e.SETTINGS="settings",e.PRO_FEATURE_LIMIT_BANNER="proFeatureLimitBanner",e.BUY_WITH_PRO_BUTTON="buyWithProButton",e))(i||{});let a=n.z.object({id:n.z.string(),value:n.z.string()}),l=n.z.object({type:n.z.literal("PROMPT_CHECKBOX"),content:n.z.object({description:n.z.string(),options:n.z.array(a)}),uuid:n.z.string()}),s=n.z.object({type:n.z.literal("PROMPT_TEXT"),content:n.z.object({description:n.z.string(),placeholder:n.z.string()}),uuid:n.z.string()});n.z.union([s,l]),n.z.object({step_type:n.z.literal("PROMPT_INPUT"),content:n.z.object({inputs:n.z.array(n.z.union([s,l]))}),uuid:n.z.string()});let c=n.z.object({type:n.z.literal("USER_CHECKBOX"),content:n.z.object({options:n.z.array(a)}),uuid:n.z.string()}),u=n.z.object({type:n.z.literal("USER_TEXT"),content:n.z.object({text:n.z.string()}),uuid:n.z.string()}),d=n.z.union([u,c]),p=n.z.object({step_type:n.z.literal("USER_INPUT"),content:n.z.array(d),uuid:n.z.string()}),_=n.z.object({step_type:n.z.literal("USER_SKIP"),content:n.z.null(),uuid:n.z.string()}),h=n.z.object({step_type:n.z.literal("USER_REGENERATE"),content:n.z.null(),uuid:n.z.string()});n.z.union([p,_,h]);var g=(e=>(e.NONE="NONE",e.INCOGNITO="INCOGNITO",e))(g||{});let v=["copilot","turbo","gpt4","gpt4o","o3mini","r1","claude2","claude3opus","experimental","grok","claude35haiku","gemini","gemini2flash"],E=["ANTHROPIC","OPENAI","DEEPSEEK","XAI","GOOGLE","SONAR"],m=["DEEPSEEK","XAI"];var y=(e=>(e[e.OWNER_ONLY=0]="OWNER_ONLY",e[e.PRIVATE_READ=1]="PRIVATE_READ",e[e.PUBLIC_READ=2]="PUBLIC_READ",e[e.PUBLIC_PUBLISHED=3]="PUBLIC_PUBLISHED",e[e.ORG_READ=4]="ORG_READ",e[e.COLLECTION_READ=5]="COLLECTION_READ",e))(y||{})},99627:(e,t,r)=>{r.d(t,{Fb:()=>n,kL:()=>i,wp:()=>o});let n={internet:"internet",reddit:"reddit",wolfram:"wolfram",scholar:"scholar",youtube:"youtube",writing:"writing",finance:"finance",recruiter:"recruiter",reasoning:"reasoning",institution:"institution"},o={team:"team",space:"space"},i={web:"web",scholar:"scholar",noConnections:"noConnections",org:"org",space:"space",crunchbase:"crunchbase",factset:"factset",google_drive:"google_drive",onedrive:"onedrive",sharepoint:"sharepoint"}},49106:(e,t,r)=>{r.d(t,{i:()=>l});var n=r(92271),o=r(36544),i=r(93104),a=r(99627);class l{static hasAnswer(e){var t,r;let n=!!(e.chunks&&e.chunks.length>0),o=!!(e.answer&&e.answer.length>0),i=!!(null==(t=e.structured_answer_blocks)?void 0:t.some(e=>{var t,r;return null==(r=null==(t=e.markdown_block)?void 0:t.chunks)?void 0:r.length})),a=!!(null==(r=e.structured_answer_blocks)?void 0:r.some(e=>{var t,r;return null==(r=null==(t=e.markdown_block)?void 0:t.answer)?void 0:r.length}));return n||o||i||a}static isPerplexityMessage(e){return(null==e?void 0:e.blocks)!==void 0}static isPerplexityArticleSection(e){return(null==e?void 0:e.message)!==void 0}static isArticleSection(e){return(null==e?void 0:e.article_info)!==void 0}static parseStructuredAnswerBlocks(e){var t;if(!this.isPerplexityMessage(e)||!(null==(t=e.structured_answer_block_usages)?void 0:t.length))return null;let r=e.blocks.reduce((e,t)=>(e[t.intended_usage]||(e[t.intended_usage]=[]),e[t.intended_usage].push(t),e),{}),n=[];return e.structured_answer_block_usages.forEach(e=>{let t=r[e];if(!t)return;let{markdownBlocks:o,placeBlocks:i}=t.reduce((e,t)=>{var r;return t.markdown_block?e.markdownBlocks.push(t.markdown_block):(null==(r=t.inline_entity_block)?void 0:r.place_block)&&e.placeBlocks.push(t.inline_entity_block.place_block),e},{markdownBlocks:[],placeBlocks:[]});if(o.length){let t=o[o.length-1];n.push({intended_usage:e,markdown_block:{answer:o.map(e=>e.answer).join(""),chunks:o.flatMap(e=>e.chunks),chunk_starting_offset:0,progress:t.progress}})}if(i.length){let[t,...r]=i,o=Object.assign({},t,...r.map(e=>({review_summary:e.review_summary})));n.push({intended_usage:e,inline_entity_block:{place_block:o}})}}),n}static parseAskTextField(e){var t;if(!this.isPerplexityMessage(e))return this.legacyParseBackendOutputStr(e.text);if(!(null==(t=e.blocks)?void 0:t.length))return null;let r={answer:""};r.structured_answer_blocks=l.parseStructuredAnswerBlocks(e);let n=e.blocks.filter(e=>e.markdown_block).map(e=>e.markdown_block);n.length>0&&(r.answer=n.map(e=>e.answer).join(""),r.chunks=n.flatMap(e=>e.chunks));let o=e.blocks.filter(e=>e.web_result_block).flatMap(e=>e.web_result_block.web_results);return o.length>0&&(r.web_results=o),r}static legacyParseBackendOutputStr(e){var t;let r=null;try{if(r=JSON.parse(null!=e?e:""),Array.isArray(r)){let e=r[r.length-1];"FINAL"==e.step_type&&(null==(t=null==e?void 0:e.content)?void 0:t.answer)!=null&&(r=JSON.parse(e.content.answer))}}catch(e){return null}return r}static isStatusPending(e){return(null==e?void 0:e.status)===n.nW.PENDING||(null==e?void 0:e.status)==="pending"}static isStatusFailed(e){return(null==e?void 0:e.status)===n.nW.FAILED||(null==e?void 0:e.status)==="failed"}static isStatusCompleted(e){return(null==e?void 0:e.status)===n.nW.COMPLETED||(null==e?void 0:e.status)==="completed"}static isAnswerStreaming(e){return(null==e?void 0:e.message_mode)===n.B3.STREAMING}static isCopilotMode(e){return(null==e?void 0:e.mode)===o.y9.COPILOT||(null==e?void 0:e.mode)==="copilot"}static isConciseMode(e){return(null==e?void 0:e.mode)===o.y9.CONCISE||(null==e?void 0:e.mode)==="concise"}static isArticleMode(e){var t;return this.isPerplexityMessage(e)?(null==e?void 0:e.mode)===o.y9.ARTICLE:this.isPerplexityArticleSection(e)?(null==(t=null==e?void 0:e.message)?void 0:t.mode)===o.y9.ARTICLE:(null==e?void 0:e.mode)==="article"}static collectionToSchematized(e){return{...e}}static isFocusType(e){return Object.values(a.Fb).includes(e)||Object.values(a.wp).includes(e)}static isSourceListType(e){return Array.isArray(e)&&e.every(e=>Object.values(a.kL).includes(e))}static toModelPreference(e){return"string"==typeof e&&i.Dk.includes(e)?e:null}}},74631:(e,t,r)=>{r.d(t,{$F:()=>ee,$O:()=>f,$w:()=>es,Bo:()=>N,EE:()=>h,Eo:()=>u,FT:()=>eT,FU:()=>L,Fw:()=>z,II:()=>eo,Ic:()=>j,JR:()=>eP,Jk:()=>X,KQ:()=>I,Kg:()=>ey,Kq:()=>g,L4:()=>ec,NA:()=>eg,OP:()=>J,PS:()=>M,PX:()=>q,PY:()=>em,Pq:()=>A,QM:()=>eu,Qc:()=>O,R5:()=>eE,RB:()=>B,SJ:()=>m,TU:()=>V,Tw:()=>eO,VZ:()=>H,Zv:()=>x,_C:()=>o,_E:()=>Y,_W:()=>l,_y:()=>E,dZ:()=>G,dp:()=>c,eK:()=>eS,en:()=>P,fU:()=>Z,fb:()=>ea,fu:()=>Q,gf:()=>ef,gk:()=>S,hk:()=>el,ht:()=>eb,kQ:()=>ed,kY:()=>e_,k_:()=>ep,lF:()=>D,lI:()=>v,ll:()=>k,mU:()=>R,mh:()=>ei,mj:()=>w,o8:()=>b,og:()=>y,pI:()=>eh,rA:()=>C,rb:()=>et,sj:()=>_,sp:()=>W,tl:()=>T,tt:()=>a,uY:()=>p,uc:()=>s,um:()=>d,vF:()=>F,vm:()=>K,w7:()=>i,wO:()=>er,xC:()=>ev,xx:()=>$,yS:()=>ew,yj:()=>en,zQ:()=>U});var n=r(93104);let o={default:{termsOfService:"https://www.perplexity.ai/hub/legal/terms-of-service",privacyPolicy:"https://www.perplexity.ai/hub/legal/privacy-policy"},"ja-JP":{termsOfService:"https://www.perplexity.ai/ja/hub/legal/terms-of-service",privacyPolicy:"https://www.perplexity.ai/ja/hub/legal/privacy-policy"}},i=2e3,a=4e3,l=50,s=1e3,c=1500,u=500,d=100,p=400,_=4,h=4,g=10,v=5e3,E=0x1900000,m=10,y=2e3,f="https://ppl-ai-public.s3.amazonaws.com/static/img/pplx-default-preview.png",S="https://r2cdn.perplexity.ai/perplexity-pro-og.png",w="2.16",T="default",O="server",P="mweb",b="entropy",A="autodetect",R=["video/mp4","video/webm","video/ogg","video/quicktime","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","audio/wav","application/msword","application/zip","application/x-tar","application/x-bzip","application/vnd.rar"],N=[".pdf",".txt",".py",".ipynb",".js",".jsx",".html",".css",".java",".cs",".php",".c",".cpp",".cxx",".h",".hpp",".rs",".R",".Rmd",".swift",".go",".rb",".kt",".kts",".ts",".tsx",".m",".scala",".rs",".dart",".lua",".pl",".pm",".t",".sh",".bash",".zsh",".csv",".log",".ini",".config",".json",".yaml",".yml",".toml",".lua",".sql",".bat",".md",".coffee",".tex",".latex",".less",".pptx",".docx",".xlsx"],k=N.join(","),C=[".jpeg",".jpg",".jpe",".jp2",".png",".gif",".bmp",".tiff",".tif",".svg",".webp",".ico",".avif",".heic",".heif"],L=C.join(","),I=[...N,...C],j=I.join(","),U="",x=n.hx.PUBLIC_READ,M=n.hx.PRIVATE_READ,D=n.hx.PRIVATE_READ;var G=(e=>(e.INITIAL_QUERY="INITIAL_QUERY",e.USER_INPUT="USER_INPUT",e.SEARCH_WEB="SEARCH_WEB",e.SEARCH_RESULTS="SEARCH_RESULTS",e.ATTACHMENT="ATTACHMENT",e.TERMINATE="TERMINATE",e.USER_SKIP="USER_SKIP",e.USER_REGENERATE="USER_REGENERATE",e.USER_TEXT="USER_TEXT",e.USER_CHECKBOX="USER_CHECKBOX",e.PERSONALIZE="PERSONALIZE",e.PROMPT_INPUT="PROMPT_INPUT",e.PROMPT_TEXT="PROMPT_TEXT",e.WIDGET_RESULTS="WIDGET_RESULTS",e.SEARCH_WIDGET="SEARCH_WIDGET",e.FINAL="FINAL",e.PROMPT_CHECKBOX="PROMPT_CHECKBOX",e.PROMPT="PROMPT",e.CODE="CODE",e))(G||{});let B=["utm_source","utm_campaign","utm_medium","utm_term","wpsrc","wpcid","wpscid","wpcrid","wpkwid","wpkwn","wpkmatch","wpsnetn","gclid","view"],z="https://chrome.google.com/webstore/detail/perplexity-ai-search/bnaffjbjpgiagpondjlnneblepbdchol",F="https://chromewebstore.google.com/detail/perplexity-ai-companion/hlgbcneanomplepojfcnclggenpcoldo",H="onboarding",X="uninstall_default_search_extension",K="edu_referral_code",V="utm_source",J="backtoschool",W="backtoschool_usc",q="backtoschool_cal",Y="iitm",Q="/static/images/unlock-the-power.jpg",$="galaxy",Z="/static/images/back-to-school-ad.png",ee="/static/images/back-to-school-splash.png",et="back-to-school",er="/static/images/search-like-never-before-square.jpg",en="search-like-never-before",eo="/static/images/file-search-upsell-demo.png",ei="file-search-upsell-demo",ea="/static/images/phone-full-sheet.png",el="phone-full-sheet",es="/static/images/interior-full-sheet.png",ec="interior-full-sheet",eu="/static/images/globe-full-sheet.png",ed="globe-full-sheet",ep="/static/images/landscape-full-sheet.png",e_="landscape-full-sheet",eh="/static/images/nature-space.png",eg="Boy looking through space at Earth.",ev="/static/images/sidebar-upsell-bg-light.svg",eE="/static/images/sidebar-upsell-bg-dark.svg",em="App Promo Background",ey="/static/images/spaces-ad.jpg",ef="Spaces for Perplexity - Try it now",eS="/static/images/mac/mac-app-promo.png",ew="Perplexity for Mac - Coming Soon",eT="/static/images/data-connectors/factset/factset-avatar.svg",eO="FactSet",eP="/static/images/data-connectors/crunchbase/crunchbase-avatar.svg",eb="Crunchbase"},72115:(e,t,r)=>{r.d(t,{a9:()=>g,Sv:()=>d,WH:()=>h});var n=r(91196),o=r(26759),i=r(52269);r(92072);var a=r(37811);let l="set_to_undefined"===a.env.NEXT_PUBLIC_DEFAULT_SOCKET_URL?void 0:a.env.NEXT_PUBLIC_DEFAULT_SOCKET_URL||"https://preview.perplexity.ai/",s=(e,t)=>{let r=e.replace(/\/+$/,""),n=t.replace(/^\/+/,"");return"".concat(r,"/").concat(n)};var c=r(37811);let u=e=>{let t=new URL(e);return globalThis.location.hostname.includes("localhost")||(t.protocol=globalThis.location.protocol,t.hostname=globalThis.location.hostname),t.toString()};function d(){return c.env.NEXT_PUBLIC_REST_ASYNC_SERVER_URL||u("https://testing.i.perplexity.ai")}let p=()=>{let e={};return c.env.NEXT_PUBLIC_CF_ACCESS_ID&&(e["CF-Access-Client-Id"]=c.env.NEXT_PUBLIC_CF_ACCESS_ID),c.env.NEXT_PUBLIC_CF_ACCESS_SECRET&&(e["CF-Access-Client-Secret"]=c.env.NEXT_PUBLIC_CF_ACCESS_SECRET),c.env.NEXT_PUBLIC_PPL_DEV_HEADER_NAME&&c.env.NEXT_PUBLIC_PPL_DEV_HEADER_TOKEN&&(e[c.env.NEXT_PUBLIC_PPL_DEV_HEADER_NAME]=c.env.NEXT_PUBLIC_PPL_DEV_HEADER_TOKEN),c.env.PPL_VERCEL_SSR_CLIENT_HEADER_NAME&&c.env.PPL_VERCEL_SSR_CLIENT_HEADER_TOKEN&&(e[c.env.PPL_VERCEL_SSR_CLIENT_HEADER_NAME]=c.env.PPL_VERCEL_SSR_CLIENT_HEADER_TOKEN),c.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_NAME&&c.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_TOKEN&&(e[c.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_NAME]=c.env.SERVER_SIDE_CLIENT_TOKEN_HEADER_TOKEN),e},_=async()=>{let e=null;try{let t=await fetch("/api/auth/token",{headers:{"X-Token-Type":"Perplexity-JWT"}});e=(await t.json()).perplexity_jwt}catch(e){n.v.warn("Error getting dev token:",e)}return e},h=async e=>{let t=d();return await g({...e,baseUrlOverride:t})};async function g(e){var t;let{urlPath:r,timeoutMs:n,method:a,body:d,headers:h,baseUrlOverride:g,numRetries:v,backOffTime:E}=e,m=navigator.userAgent.includes("Mobile"),y=new Headers({...p(),"X-App-ApiClient":m?o.en:o.tl,"X-App-ApiVersion":o.mj,...h}),f={headers:y},S=null!==(t=globalThis.location.hostname.includes("localhost"))&&void 0!==t&&t,w=c.env.NEXT_PUBLIC_USE_TOKEN_AUTH_FOR_SOCKET;if((S||w)&&f.headers){let e=await _();y.set("authorization","Bearer ".concat(e))}let T=null!=g?g:function(){if(c.env.NEXT_PUBLIC_GLOBAL_REST_SYNC_URL_OVERRIDE)return c.env.NEXT_PUBLIC_GLOBAL_REST_SYNC_URL_OVERRIDE;if(c.env.NEXT_PUBLIC_GLOBAL_SOCKET_URL_OVERRIDE)return c.env.NEXT_PUBLIC_GLOBAL_SOCKET_URL_OVERRIDE;if(!l)throw Error("No client socket URL provided");return u(l)}(),O=(0,i.Q)(s(T,r));return(0,i.u)({resource:O,options:f,timeoutMs:n,method:a,body:d,numRetries:v,backOffTime:E})}},26759:(e,t,r)=>{r.d(t,{Qc:()=>i,en:()=>a,mj:()=>n,tl:()=>o});let n="2.16",o="default",i="server",a="mweb"},52269:(e,t,r)=>{r.d(t,{Q:()=>i,u:()=>a});var n=r(91196),o=r(26759);let i=e=>{let t=new URL(e),r=t.searchParams;return r.get("version")||r.set("version",o.mj),r.get("source")||r.set("source",o.tl),t},a=async e=>{let{resource:t,options:r,timeoutMs:o=1200,method:i="GET",body:a,numRetries:l=0,backOffTime:s=1e3}=e,c={...r,method:i,body:a},u=new Headers(c.headers),d=()=>null;if(o&&(d=()=>{let e=new DOMException("fetch ".concat(t," timed out (").concat(o,"ms)"),"TimeoutError"),r=new AbortController;return c.signal=r.signal,setTimeout(()=>r.abort(e),o)}),l>2){let e="Retries for fetch ".concat(t," exceeded MAX_RETRIES");n.v.error(Error(e))}let p=l+1,_=null,h=null;do{l>0&&p!==l+1&&await new Promise(e=>setTimeout(e,s));let e=d();h=null;try{u.set("X-Perplexity-Request-Try-Number",String(l-p+2)),u.set("X-Perplexity-Request-Endpoint",String(t)),_=await fetch(t,{...c,headers:u}),clearTimeout(e);break}catch(e){h=e}clearTimeout(e),--p,s*=2}while(p>0);if(h)throw n.v.log("".concat(c.method," ").concat(t," exception: ").concat(h)),h._fetchMethod=c.method,h._fetchResource=t,h;return _}},30974:(e,t,r)=>{r.d(t,{Fc:()=>o.Fc,GI:()=>o.GI,Xn:()=>o.Xn,dI:()=>o.dI,th:()=>i}),r(5602);var n=r(31035),o=r(57950);function i(){let e=[new URL(globalThis.location.href).searchParams.get("locale"),n.A.get(o.qX),navigator.language].filter(e=>!!e);return(0,o.w7)(e).locale}r(20916)},57950:(e,t,r)=>{r.d(t,{Xn:()=>i,GI:()=>a,qX:()=>o,Fc:()=>l,dI:()=>s,w7:()=>c});var n=r(95881);let o="pplx.chosen-locale",i="en-US",a=new Intl.DateTimeFormat().resolvedOptions().timeZone,l=[{locale:"en-US",englishLabel:"English (English)",label:"English"},{locale:"fr-FR",englishLabel:"French (Fran\xe7ais)",label:"Fran\xe7ais"},{locale:"de-DE",englishLabel:"Standard German (Deutsch)",label:"Deutsch"},{locale:"ja-JP",englishLabel:"Japanese ()",label:""},{locale:"ko-KR",englishLabel:"Korean ()",label:""},{locale:"zh-CN",englishLabel:"Simplified Chinese ()",label:""},{locale:"es-ES",englishLabel:"Spanish (Espa\xf1ol)",label:"Espa\xf1ol"},{locale:"hi-IN",englishLabel:"Hindi ()",label:""},{locale:"it-IT",englishLabel:"Italian (Italiano)",label:"Italiano"},{locale:"pt-BR",englishLabel:"Brazilian Portuguese (Portugu\xeas do Brasil)",label:"Portugu\xeas do Brasil"},{locale:"cs-CZ",englishLabel:"Czech (etina)",label:"etina"},{locale:"hr-HR",englishLabel:"Croatian (Hrvatski)",label:"Hrvatski"},{locale:"hu-HU",englishLabel:"Hungarian (Magyar)",label:"Magyar"},{locale:"pl-PL",englishLabel:"Polish (Polski)",label:"Polski"},{locale:"pt-PT",englishLabel:"Portuguese (Portugu\xeas)",label:"Portugu\xeas"},{locale:"sk-SK",englishLabel:"Slovak (Slovenina)",label:"Slovenina"},{locale:"mk-MK",englishLabel:"Macedonian ()",label:""},{locale:"sr-Cyrl-ME",englishLabel:"Montenegrin ()",label:""}],s=l.map(e=>e.locale),c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;try{let r=(0,n.YW)(e,t,"und");if("und"===r)return{locale:i,matched:!1};return{locale:r,matched:!0}}catch(e){return{locale:i,matched:!1}}}},20916:(e,t,r)=>{r.d(t,{TranslationsProvider:()=>s});var n=r(60554),o=r(5602),i=r(22698),a=r(19498),l=r(57950);let s=e=>{let{children:t,locale:r,messages:s,timeZone:c}=e,u=(0,o.useMemo)(()=>(function e(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).reduce((n,o)=>{let i=t[o],a=r?"".concat(r,".").concat(o):o;return"string"==typeof i?n[a]=i:i&&Object.assign(n,e(i,a)),n},{})})(s),[s]);return(0,n.jsx)(a.NextIntlClientProvider,{messages:s,timeZone:c,locale:r,children:(0,n.jsx)(i.A,{locale:r,defaultLocale:l.Xn,messages:u,children:t})})}},91196:(e,t,r)=>{r.d(t,{v:()=>s});var n=r(91549),o=r(18923),i=r(52334);function a(){let e;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let o=[],i=[];r.filter(Boolean).forEach(t=>{t instanceof Error?(e=t,i.push(t.message)):"object"==typeof t?o.push(t):i.push(t)});let a=i.join(" ");return e?{message:a,error:e,extra:o}:{message:a,extra:o}}function l(e,t){let{message:r,error:a,extra:l}=t,s=[r,{extra:l},a||Error(r)];(0,i.YW)(e).with("error",()=>{n.yf.logger.error(...s),o.L.addError(a,{message:r,extra:l})}).with("warn",()=>n.yf.logger.warn(...s)).with("log",()=>n.yf.logger.info(...s)).with("debug",()=>n.yf.logger.debug(...s)).with("info",()=>n.yf.logger.info(...s)).exhaustive()}let s={log:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];l("debug",a(...t))},error:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];l("error",a(...t))},warn:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];l("warn",a(...t))},debug:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];l("debug",a(...t))},info:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];l("info",a(...t))}}},4725:(e,t,r)=>{r.d(t,{F:()=>n,R:()=>o});let n=async()=>{};function o(e){if("undefined"==typeof navigator||!navigator.sendBeacon)return;let t=globalThis.location.hostname.includes("localhost");navigator.sendBeacon(new URL("/rest/metrics/collect",t?"https://testing.i.perplexity.ai":globalThis.location.origin),new Blob([JSON.stringify(e)],{type:"application/json"}))}}}]);
//# sourceMappingURL=5309-94369d125a5421a8.js.map